{"version":3,"sources":["contracts-info.js","components/Header/en-us.png","components/Header/jp.png","components/Header/ko.png","components/Header/logo-white.svg","components/multi-lang/PreLangBasenameContext.ts","components/multi-lang/LangRouter.tsx","translations.ts","components/multi-lang/ChangeLangLink.tsx","components/Header/languages.tsx","services/ApiContext.ts","components/App/App.theme.ts","components/App/ThemeProvider.tsx","components/Header/links.ts","components/Header/MenuPopup.tsx","components/Header/Header.tsx","components/DelegationStatusDialog/DelegationStatusDialog.tsx","components/ManualDelegationDialog/ManualDelegationDialog.tsx","components/CopyAddressButton/CopyAddressButton.tsx","components/VoteChip/VoteChip.tsx","components/tables/TableIcons.tsx","components/tables/CommonTable.tsx","pages/DelegatorsPage/GuardiansList.tsx","Store/storeHooks.ts","components/structure/Page.tsx","pages/DelegatorsPage/DelegatorsPage.tsx","services/urls.ts","services/vote-storage.ts","components/Guardrians/ValidatorsList.tsx","components/Guardrians/GuardiansPage.tsx","components/Home/Home.tsx","components/Home/content.ts","components/NewGuardian/NewGuardian.styles.ts","components/NewGuardian/NewGuardian.tsx","components/NewValidator/NewValidator.tsx","components/NewValidator/NewValidator.styles.ts","pages/RewardsPage/DelegationInfoTable.tsx","pages/RewardsPage/RewardsTable.tsx","cryptoUtils/unitConverter.ts","services/ServicesHooks.ts","pages/RewardsPage/rewardsPageHooks.ts","components/structure/PageSection.tsx","pages/RewardsPage/RewardsHistoryTable.tsx","pages/RewardsPage/RewardsPage.tsx","pages/ValidatorsPage/ValidatorsList.tsx","pages/ValidatorsPage/ValidatorsPage.tsx","components/ReadOnlyBanner/readOnlyBannerHooks.tsx","components/Main/Main.tsx","components/App/App.tsx","config.ts","Store/GuardiansStore.ts","services/OrbsClientFactory.ts","services/RemoteService.ts","services/MetamaskService.ts","services/contracts.ts","components/App/AppWrapper.tsx","Store/storesInitialization.ts","services/Services.ts","index.tsx"],"names":["module","exports","EthereumGuardiansContract","address","EthereumValidatorsContract","EthereumValidatorsRegistryContract","EthereumVotingContract","OrbsVotingContract","name","PreLangBasenameContext","React","createContext","PreLangBasenameProvider","Provider","Consumer","LangRouter","children","resources","preLangBasename","i18n","use","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","setupI18n","forcedLang","langMatch","window","location","pathname","match","getForcedLanguage","langBaseName","language","changeLanguage","navigatorLang","navigator","split","languages","indexOf","value","basename","jp","translation","fontFamily","delegateMessage","Vote","Add","Check","Close","Delegate","Name","Address","Website","Home","Guardians","Validators","Rewards","Delegators","Explore","Submit","Stake","Yes","No","Distributed","Amount","Cancel","text_delegatorDescriptionMain","text_delegatorDescriptionTetra","linkText_tetraWalletTutorial","message_orbsWillTransitionToV2On","message_toChangeDelegationsUseV1Tetra","concept_tetraV1","delegatorNonStakedOrbs","delegatorStakedOrbs","alert_stakingWithoutGuardian","alert_delegatingToNonGuardian","alert_notParticipating","action_goToTetra","action_youCanStakeYourORBSAndSelectAGuardianWithTetra","text_tetraName","en","ko","addLangToCurrentLocation","lang","langRegexp","replace","ChangeLangLink","useLocation","useContext","href","Languages","withStyles","list","padding","margin","display","listStyle","justifyContent","item","paddingInlineStart","opacity","classes","className","src","EN_FLAG","alt","JP_FLAG","KO_FLAG","ApiContext","useApi","ThemeProvider","t","useTranslation","theme","responsiveFontSizes","createMuiTheme","palette","type","primary","main","secondary","background","default","paper","typography","overrides","MuiTypography","body1","fontWeight","h4","MuiTableCell","body","links","translationKey","url","useLinkDescriptors","useMemo","map","link","label","useStyles","makeStyles","menuButton","spacing","width","color","transition","HOVER_COLOR","MenuPopup","memo","props","linkDescriptors","console","log","useBoolean","setFalse","setTrue","useState","anchorEl","setAnchorEl","handleClick","useCallback","event","currentTarget","handleClose","menuItemLinks","idx","MenuItem","onClick","key","Link","component","NavLink","exact","activeStyle","underline","to","variant","noWrap","id","undefined","IconButton","aria-label","Popover","open","onClose","anchorOrigin","vertical","horizontal","transformOrigin","appBar","paddingTop","paddingBottom","boxSizing","height","zIndex","drawer","logo","nav","flexWrap","toolbar","paddingRight","paddingLeft","maxWidth","headerButtonsContainer","alignItems","displayInMetamaskButton","marginRight","movedDown","marginLeft","Header","metamask","useTheme","smallerThanSmall","useMediaQuery","breakpoints","down","menuLinks","menu","AppBar","position","classNames","data-testid","Button","size","displayOrbsInMetamask","Toolbar","DelegationStatusLabel","Typography","style","marginTop","DelegationStatusDialog","checkButton","remoteService","isOpened","setIsOpened","setAddress","delegatedTo","setDelegatedTo","fetchDelegationStatus","getCurrentDelegation","then","Dialog","onEnter","fullWidth","DialogTitle","DialogContent","gutterBottom","TextField","required","placeholder","onChange","ev","target","DialogActions","DelegateButton","onDelegate","ManualDelegationDialog","dialogState","delegatorAddress","setDelegatorAddress","CopyIcon","SvgIcon","fontSize","fill","d","CopyAddressButton","tooltipShown","setTooltopShown","copy","stopPropagation","clipboard","writeText","setTimeout","Tooltip","placement","title","VoteChip","yesChip","backgroundColor","green","noChip","red","Chip","TABLE_ICONS","forwardRef","ref","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","typedMemo","CommonTable","columns","data","components","options","others","renderNotContainer","containerProps","componentsOverride","Container","tableStyle","bareTableOptions","headerStyle","search","showTitle","paging","icons","table","marginBottom","tableLayout","cell","overflow","textOverflow","delegateButton","blue","GuardiansList","observer","enableDelegation","onSelect","guardians","candidate","setCandidate","length","sortedGuardians","sort","a","b","stakePercent","handleGuardianCheckboxChange","COLUMNS","render","guardian","Checkbox","checked","sorting","cellStyle","field","website","rel","toLocaleString","maximumFractionDigits","minimumFractionDigits","hasEligibleVote","useGuardiansStore","MobXProviderContext","guardiansStore","page","Page","DelegatorsPage","manualDelegationDialogState","setManualDelegationDialogState","totalParticipatingTokens","setTotalParticipatingTokens","delegationCandidate","setDelegationCandidate","upcomingElectionsBlockNumber","setUpcomingElectionsBlockNumber","fetchUpcomingElectionsBlockNumber","getUpcomingElectionBlockNumber","res","Number","fetchTotalParticipatingTokens","getTotalParticipatingTokens","fetchDelegatedTo","getCurrentAddress","useEffect","delegate","candidateAddress","centerContent","hereElement","doneLoading","guardiansList","paragraph","i18nKey","textAlign","normalizeUrl","startsWith","hasLocalStorageAccess","localStorage","save","from","addresses","setItem","JSON","stringify","err","get","getItem","parse","ValidatorsList","disableAll","readOnly","onToggle","validators","validator","disabled","enterDelay","orbsAddress","votesAgainst","Object","values","ReadOnlyVoteButton","VoteButton","onVote","LeaveEveryoneButton","voteButton","GuardiansPage","setValidators","lastVote","setLastVote","selectionDisabled","setSelectionDisabled","fetchValidator","getValidatorData","assign","fetchValidators","getValidators","validatorsInState","isMetamaskActive","validatorsInStorage","forEach","fetchLastVote","getLastVote","warn","commitVote","stagedValidators","keys","filter","voteOut","toggleCheck","update","reduce","acc","validateVoteOutAmount","ethereum","_metamask","isEnabled","hasSomebodySelected","some","lineHeight","explanations","article","section","justifyItems","overflowX","flexGrow","flexBasis","imageBlock","minWidth","textBlock","image","division","border","ctaButton","borderRadius","translatedContent","imageUrl","text","text2","cta","content","Fragment","NewGuardian","add","form","setName","setWebsite","addGuardian","registerGuardian","FormControl","NewValidator","ipAddress","setIpAddress","setOrbsAddress","addValidator","registerValidator","attr","DelegationInfoTable","delegatorInfo","delegatorStakingInfo","guardianInfo","isAGuardian","delegatorBalance","delegationBlockNumber","delegationTimestamp","delegationType","timestamp","Date","hour12","timeZone","timeZoneName","year","month","day","hour","minute","second","contentCellAlignment","TableContainer","Table","TableBody","TableRow","TableCell","align","whiteSpace","stakedOrbs","voted","RewardsTable","rewardsSummary","delegatorReward","guardianReward","validatorReward","totalReward","TableFooter","fullOrbsFromWeiOrbs","weiOrbs","parseInt","web3","utils","fromWei","toString","useServices","emptyObject","distributionsHistory","hasActiveDelegation","delegatingToValidGuardian","stakingInfo","useCompleteAddressInfoForRewardsPage","errorLoading","addressData","useStateful","guardianService","guardiansService","orbsRewardsService","stakingService","readCompleteDataForAddress","guardiansAddresses","setValue","catch","fetchRewardsHistory","readRewardsDistributionsHistory","fetchDelegationAndGuardianInfo","validGuardianAddresses","getCurrentDelegationInfo","guardianAddress","includes","toLowerCase","readGuardianInfo","fetchStakingInfo","readStakeBalanceOf","stakedOrbsInWeiOrbs","fullStakedOrbs","fetchRewardsSummary","getRewards","rewardsHistory","delegationAndGuardianInfo","PageSection","RewardsHistoryTable","totalAmount","prev","cur","amount","transactionHash","Body","flexDirection","input","submit","alert","RewardsPage","showNoSelectedGuardianError","showDelegatingToANonGuardianAlert","showAddressNotParticipatingAlert","useQueryParam","StringParam","queryAddress","setQueryAddress","isGuardian","formAddress","setFormAddress","submitHandler","electionBlock","setElectionBlock","fetchEffectiveElectionBlock","getEffectiveElectionBlockNumber","completeAddressData","asyncInnerFunction","relevantGuardianInfo","find","g","hasUnstakedOrbs","hasStakedOrbs","isDelegatedGuardianAddressValid","hasDelegatedGuardian","hasAddress","hasSelectedGuardian","tetraUrl","stakeAndDelegateWithTetraLinkInnerHtml","tetraLink","renderToString","toChangeDelegationPleaseUseTetraV1InnerHtml","Alert","severity","dangerouslySetInnerHTML","__html","shouldSort","validatorsInOrder","validatorsClone","stake","ethereumAddress","ValidatorsPage","selectedValidatorsDataList","setSelectedValidatorsDataList","readAndAugmentElectedValidatorData","getElectedValidatorData","electedValidatorData","electedValidatorDataWithAddress","readValidatorsData","promises","Promise","all","fetchElectedValidators","getElectedValidators","validatorsData","actionBuilder","closeSnackbar","Main","hasMetamask","isNoMetamaskBannerOpen","useSnackbar","enqueueSnackbar","autoHideDuration","action","useNoMetaMaskSnackbar","path","rootApp","backgroundRepeat","backgroundImage","backgroundAttachment","backgroundPosition","minHeight","headerSeparator","glass","top","left","glassLabel","blurred","App","process","ReactRouterRoute","Route","maxSnack","CssBaseline","configs","orbsAuditNodeEndpoint","ETHEREUM_PROVIDER_WS","contractsAddressesOverride","earliestBlockForDelegationOverride","GuardiansStore","this","constructor","clear","setDoneLoading","readGuardiansList","guardianInfoExtended","addGuardianToList","failLoadingProcess","error","setErrorLoading","setGuardiansList","push","observable","computed","ORBS_NODE_URL","RemoteService","remoteAddress","callRemote","params","config","axios","getGuardians","limit","offset","getGuardianData","getRewardsHistory","MetamaskService","validatorsRegistryContract","guardiansContract","votingContract","eth","Contract","validatorsRegistryContractJson","abi","contractsInfo","validatorsRegistryContractFactory","guardiansContractJson","guardiansContractFactory","votingContractJson","votingContractFactory","sendAsync","method","symbol","decimals","ipAddressToBytes","formatted","Address4","toHex","join","enableMetamask","enable","reject","isMainNet","methods","send","info","registrationDepositWei","call","requiredDeposit","ipHex","isValidator","getCurrentVote","configure","enforceActions","ethereumProvider","Web3","providers","WebsocketProvider","services","StakingService","stakingContract","orbsClient","createAccount","publicKey","privateKey","signer","LocalSigner","Client","NetworkType","NETWORK_TYPE_TEST_NET","BuildOrbsClient","orbsClientService","OrbsClientService","OrbsRewardsService","GuardiansService","earliestBlockForDelegation","buildServices","stores","getStores","AppWrapper","StylesProvider","injectFirst","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.68252179.chunk.js","sourcesContent":["/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nmodule.exports = {\n  EthereumGuardiansContract: {\n    address: '0xD64B1BF6fCAb5ADD75041C89F61816c2B3d5E711'\n  },\n  EthereumValidatorsContract: {\n    address: '0x240fAa45557c61B6959162660E324Bb90984F00f'\n  },\n  EthereumValidatorsRegistryContract: {\n    address: '0x56A6895FD37f358c17cbb3F14A864ea5Fe871F0a'\n  },\n  EthereumVotingContract: {\n    address: '0x30f855afb78758Aa4C2dc706fb0fA3A98c865d2d'\n  },\n  OrbsVotingContract: {\n    name: '_Elections'\n  }\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHzSURBVHjaYkxOP8IAB//+Mfz7w8Dwi4HhP5CcJb/n/7evb16/APL/gRFQDiAAw3JuAgAIBEDQ/iswEERjGzBQLEru97ll0g0+3HvqMn1SpqlqGsZMsZsIe0SICA5gt5a/AGIEarCPtFh+6N/ffwxA9OvP/7//QYwff/6fZahmePeB4dNHhi+fGb59Y4zyvHHmCEAAAW3YDzQYaJJ93a+vX79aVf58//69fvEPlpIfnz59+vDhw7t37968efP3b/SXL59OnjwIEEAsDP+YgY53b2b89++/awvLn98MDi2cVxl+/vl6mituCtBghi9f/v/48e/XL86krj9XzwEEEENy8g6gu22rfn78+NGs5Ofr16+ZC58+fvyYwX8rxOxXr169fPny+fPn1//93bJlBUAAsQADZMEBxj9/GBxb2P/9+S/R8u3vzxuyaX8ZHv3j8/YGms3w8ycQARmi2eE37t4ACCDGR4/uSkrKAS35B3TT////wADOgLOBIaXIyjBlwxKAAGKRXjCB0SOEaeu+/y9fMnz4AHQxCP348R/o+l+//sMZQBNLEvif3AcIIMZbty7Ly6t9ZmXl+fXj/38GoHH/UcGfP79//BBiYHjy9+8/oUkNAAHEwt1V/vI/KBY/QSISFqM/GBg+MzB8A6PfYC5EFiDAABqgW776MP0rAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAE2SURBVHjaYvz69SsDEvj37x+ERGbAwZ9//wACiAUoysXFBST///8P0QOm//+HU0jgxYsXAAHEAlP0H8HYt+//4SP/f//6b2b238sLrpqRkRFoCUAAsaCrXrv2/8KF///8+f/r9//Dh/8/ffI/OQWiAeJCgABigrseJPT27f/Vq////v3/1y8oWrzk/+PHcEv+/PkDEEBMEM/B3fj/40eo0t9g8suX/w8f/odZAVQMEEAsQAzj/2cQFf3PxARWCrYEaBXQLCkpqB/+/wcqBgggJrjxQPX/hYX/+/v///kLqhpIBgf/l5ODhxiQBAggFriToDoTEv5zcf3ftQuk2s7uf0wM3MdAAPQDQAAxvn37lo+PDy4KZUDcycj4/z9CBojv3r0LEEAgG969eweLSBDEBSCWAAQYACaTbJ/kuok9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHiSURBVHjaYvz4/SsDEvj37x+YhLCgGAb+ADFAADEBpfk4uIDo2YNHV89fZP3PyMfBLcDFxc/NLcjNy8nMfPnM2cd374ry84sJCAE1AAQQC8Tg169fb9269cP7DyJiYsqKiv/v3v3/589/FZVnL16uXbtGQFBQWEhIRlYWaAVAAIFs+P///4cPH37//m1oYqwsJfm/t/d/QcH/vJz/ddUKYqJuXl5v3rx5/uIFUBnQBoAAYgT6gZedE6jt1atXXLy8jHsOcEyd+P/37y9/mH7+/CWQEPEpIvLj6zdS0lKMjIwPnj0BCCAWiC+BukVERICMnW/4jP8w/2bibDLMf/aTvfrxOX12dm5pKaACBkZGoJMAAgioAaQaCN6+fcvDzfVVXTdXvZKZjfURu9iHHz/vGrupf//85u1HSUlJRqCef/8AAogJiIGqb968OW3aNKC/PQw4VS1UnjALMXz/4azD5uokvW/f/vr6+pMnT0L8ABBALP/AocTFxQXkHzx0WFNLszZM7ZIJ+5+//3UV2O/du7l6zXphYWEBAQGgAqCTAAII5AcgS1pa2t3d/eXLl2JikkD9ekpcEHeKi0t5eHgANairq4PjlQEggBifv32LHJFwiuEPmMEAYf/5A1YNxAABBgCFMRk3L8TWJAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/logo-white.e59b3ac9.svg\";","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\n\nexport const PreLangBasenameContext = React.createContext('');\nexport const PreLangBasenameProvider = PreLangBasenameContext.Provider;\nexport const PreLangBasenameConsumer = PreLangBasenameContext.Consumer;\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport i18n, { Resource } from 'i18next';\nimport { PreLangBasenameProvider } from './PreLangBasenameContext';\nimport { initReactI18next } from 'react-i18next';\n\nfunction getForcedLanguage() {\n  const langMatch = window.location.pathname.match(/\\/(en|ko|jp)\\//);\n  return langMatch ? langMatch[1] : '';\n}\n\nfunction setupI18n(resources: Resource) {\n  i18n\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n      resources,\n      lng: 'en',\n      keySeparator: false, // we do not use keys in form messages.welcome\n      interpolation: {\n        escapeValue: false, // react already safes from xss\n      },\n    });\n}\n\ninterface IProps {\n  preLangBasename?: string;\n  resources: Resource;\n}\n\nexport const LangRouter: React.FC<IProps> = ({ children, resources, preLangBasename = '' }) => {\n  setupI18n(resources);\n  const forcedLang = getForcedLanguage();\n  let langBaseName = '';\n  if (forcedLang) {\n    langBaseName = `/${forcedLang}/`;\n    if (i18n.language !== forcedLang) {\n      i18n.changeLanguage(forcedLang);\n    }\n  } else {\n    const navigatorLang = navigator.language.split('-')[0];\n    if (i18n.languages.indexOf(navigatorLang) > -1) {\n      if (i18n.language !== navigatorLang) {\n        i18n.changeLanguage(navigatorLang);\n      }\n    }\n  }\n\n  return (\n    <I18nextProvider i18n={i18n}>\n      <PreLangBasenameProvider value={preLangBasename}>\n        <Router basename={`${preLangBasename}${langBaseName}`}>{children}</Router>\n      </PreLangBasenameProvider>\n    </I18nextProvider>\n  );\n};\n","/* eslint-disable @typescript-eslint/camelcase */\nimport i18n, { Resource } from 'i18next';\n\nexport const resources: Resource = {\n  jp: {\n    translation: {\n      fontFamily: 'Meiryo,Hiragino Kaku Gothic ProN,MS PGothic,sans-serif',\n      delegateMessage: '<1></1>',\n      'Participation Instructions Content1':\n        'OrbsPoS',\n      'Participation Instructions Content2':\n        '',\n      'Guardians Description':\n        '',\n      'Validators Description':\n        'Orbs',\n      'Manual Delegation Description':\n        '',\n      'Your vote has not been delegated yet.': '',\n      'Your vote has been delegated to': '',\n      'Delegate Ethereum Address': '',\n      Vote: '',\n      'Check delegation status': '',\n      'Check your delegation status': '',\n      'Your name': '',\n      'Your website': '',\n      Add: '',\n      'Your IP Address': 'IP',\n      'Your Orbs Address': 'Orbs',\n      'Enter your address in order to check to whom your stake is delegated.':\n        '',\n      Check: '',\n      Close: '',\n      'Guardians List': '',\n      'Next election round will take place at Ethereum block': '',\n      'Participating stake': '',\n      Delegate: '',\n      Name: '',\n      Address: '',\n      Website: '',\n      '% in last election': '%',\n      'Voted for next elections': '',\n      'Vote Out': '',\n      'Keep everyone': '',\n      'Guardian did not vote before': '',\n      'Validators List': '',\n      'Become a guardian': '',\n      'Your most recent vote was against': '',\n      'You have not voted yet': '',\n      Home: '',\n      Guardians: '',\n      Validators: '',\n      'Elected Validators': '',\n      Rewards: '',\n      Delegators: '',\n      'Delegating using Metamask': 'Metamask',\n      'Delegating by sending 0.07 ORBS directly': '0.07ORBS',\n      'Delegating using MyCrypto': 'MyCrypto',\n      'Becoming a Guardian': '',\n      'Voting using MyCrypto': 'MyCrypto',\n      'Becoming a Validator': '',\n      Explore: '',\n      'Participation Instructions': '',\n      'Delegated To': '',\n      'Guardian voted in previous elections': '',\n      'Guardian voted for next elections': '',\n      'Delegation method': '',\n      'Delegation timestamp': '',\n      'Delegation block number': '',\n      'Rewards & Delegation Info': '',\n      'Enter the address': '',\n      Submit: '',\n      'Delegation Details': '',\n      'The information above corresponds to elections at block number': '',\n      'Delegator Reward': '',\n      'Guardian Excellency Reward': '',\n      'Validator Reward': '',\n      'Total Reward': '',\n      'Become a validator': '',\n      'Ethereum Address': '',\n      'Orbs Address': 'Orbs',\n      Stake: '',\n      Yes: 'Yes',\n      No: 'No',\n      Distributed: '',\n      'Distribution Event': '',\n      'Transaction Hash': '',\n      Amount: '',\n      'Total Distributed': '',\n      \"Delegator's ORBS Balance\": 'ORBS',\n      'Last election votes against (%)': '%',\n      'Manually Delegate Your Stake': '',\n      Cancel: '',\n      'Display ORBS in metamask': 'ORBS',\n\n      // *************************\n      // Well formatted messages\n      // *************************\n\n      // Participation\n      text_delegatorDescriptionMain:\n        'ORBSOrbs',\n      text_delegatorDescriptionTetra:\n        'TETRAOrbsORBS',\n      linkText_tetraWalletTutorial: 'Tetra',\n\n      // Rewards page\n      // TODO : TRANSLATIONs : ADD\n      message_orbsWillTransitionToV2On: 'Orbs will transition to V2 on Nov 30',\n      message_toChangeDelegationsUseV1Tetra: 'To change your V1 Delegation please use {{tetraLink}}',\n      concept_tetraV1: 'Tetra V1',\n\n      // Rewards table\n      delegatorNonStakedOrbs: 'ORBS',\n      delegatorStakedOrbs: 'ORBS',\n\n      // Alerts\n      alert_stakingWithoutGuardian:\n        'ORBS',\n      alert_delegatingToNonGuardian:\n        'Warning - this address is delegating to an address that does not belong to a Guardian. No rewards will be accumulated',\n      alert_notParticipating: 'ORBS',\n      action_goToTetra: '{{tetraLink}}',\n      action_youCanStakeYourORBSAndSelectAGuardianWithTetra:\n        'ORBS{{tetraLink}}',\n      text_tetraName: 'Tetra',\n    },\n  },\n  en: {\n    translation: {\n      fontFamily: 'Montserrat',\n      delegateMessage: 'Want to delegate manually to another address? Click <1>here</1>.',\n      'Participation Instructions Content1':\n        'One of the unique features of Orbs, is that the administration of the\\nnetworks institutes is performed on another decentralized network. With\\nthis architecture, we can avoid letting network operators execute the\\nprocedures for their own election. This separation of powers provides an\\nexternal decentralized guarantee to all PoS votes and delegations.',\n      'Participation Instructions Content2':\n        'To make this possible, delegation of voting power to guardians, and\\nvoting on validators by the guardians are managed by smart contracts on\\nthe Ethereum network using standard Ethereum wallets.',\n      'Guardians Description':\n        'Anyone can become an active Guardian and participate in the daily voting to approve Validators. Guardians are key players that review validators, monitor their operations and audit the network. Being a Guardian requires commitment and effort.',\n      'Validators Description':\n        'Validators run Orbs network. They participate in the block creation and validation and maintain the state and block history. Validators are skilled professionals, capable of maintaining their node security, availability and connectivity and providing the required quality of service.',\n      'Manual Delegation Description':\n        'You can delegate your stake to anyone. They will need to delegate\\ntheir own stake & your stake to a guardian. Only stake delegated to a\\nvoting guardian will be rewarded.',\n\n      // *************************\n      // Well formatted messages\n      // *************************\n\n      // Participation\n      text_delegatorDescriptionMain:\n        'As an ORBS token holder, it is your responsibility to participate in the Orbs Universe by delegating your voting power to a Guardian you trust. This contributes to the network security by making sure a trustworthy group of Validators is running the network. Delegation only needs to be performed once and remains valid unless modified to a different Guardian.',\n      text_delegatorDescriptionTetra:\n        'TETRA is Orbs dedicated staking wallet, from which any ORBS holder can easily stake tokens with a Guardian of their choice.',\n      linkText_tetraWalletTutorial: 'Tetra wallet Tutorial',\n\n      // Rewards page\n      message_orbsWillTransitionToV2On: 'Orbs will transition to V2 on Nov 30',\n      message_toChangeDelegationsUseV1Tetra: 'To change your V1 Delegation please use {{tetraLink}}',\n      concept_tetraV1: 'Tetra V1',\n\n      // Rewards table\n      delegatorNonStakedOrbs: 'Delegators  non-staked ORBS',\n      delegatorStakedOrbs: 'Delegators staked ORBS',\n\n      // Alerts\n      alert_stakingWithoutGuardian:\n        'Warning - this address has staked ORBS but no selected Guardian. No rewards will be accumulated',\n      alert_delegatingToNonGuardian:\n        'Warning - this address is delegating to an address that does not belong to a Guardian. No rewards will be accumulated',\n      alert_notParticipating: 'Notice : This address has ORBS but none of them are staked',\n      action_goToTetra: 'Go to {{tetraLink}}',\n      action_youCanStakeYourORBSAndSelectAGuardianWithTetra:\n        'You can stake your ORBS and select a guardian with {{tetraLink}}',\n      text_tetraName: 'Tetra',\n    },\n  },\n  ko: {\n    translation: {\n      fontFamily: 'Montserrat',\n      delegateMessage: '    ? <1></1> .',\n      'Participation Instructions Content1':\n        'Orbs    ,        .   ,         .     PoS       .',\n      'Participation Instructions Content2':\n        '  ,   ,              .',\n      'Guardians Description':\n        '       .             .      .',\n      'Validators Description':\n        ' Orbs  .         .       ,         .',\n      'Manual Delegation Description':\n        '   .        .      .',\n      'Your vote has not been delegated yet.': '  .',\n      'Your vote has been delegated to': '   ',\n      'Check delegation status': '  ',\n      'Check your delegation status': '  ',\n      'Enter your address in order to check to whom your stake is delegated.':\n        '       .',\n      Check: '',\n      'Delegate Ethereum Address': ' ETH ',\n      Vote: '',\n      'Your name': ' ',\n      'Your website': ' ',\n      Add: '',\n      'Your IP Address': ' IP ',\n      'Your Orbs Address': 'Orbs ',\n      Close: '',\n      'Guardians List': ' ',\n      'Next election round will take place at Ethereum block': '     ',\n      'Participating stake': '  ',\n      'Want to delegate manually to another address? Click {{here}}.': '    ?',\n      'Click here': ' ',\n      Delegate: '',\n      Name: '',\n      Address: '',\n      Website: '',\n      '% in last election': '  (%)',\n      'Voted for next elections': '   ',\n      'Vote Out': ' ',\n      'Keep everyone': '  ',\n      'Guardian did not vote before': '  .',\n      'Validators List': ' ',\n      'Become a guardian': ' ',\n      'Your most recent vote was against': '   ',\n      'You have not voted yet': '  ',\n      Home: '',\n      Guardians: '',\n      Validators: '',\n      'Elected Validators': ' ',\n      Rewards: '',\n      Delegators: '',\n      'Delegating using Metamask': '(Metamask)  ',\n      'Delegating by sending 0.07 ORBS directly': ' 0.07 ORBS  ',\n      'Delegating using MyCrypto': '(MyCrypto)  ',\n      'Becoming a Guardian': ' ',\n      'Voting using MyCrypto': '(MyCrypto)  ',\n      'Becoming a Validator': ' ',\n      Explore: ' ',\n      'Participation Instructions': ' ',\n      'Delegated To': ' ',\n      'Guardian voted in previous elections': '     ',\n      'Guardian voted for next elections': '     ',\n      'Delegation method': ' ',\n      'Delegation timestamp': ' ',\n      'Delegation block number': ' ',\n      'Rewards & Delegation Info': '   ',\n      'Enter the address': ' ',\n      Submit: '',\n      'Delegation Details': '  ',\n      'The information above corresponds to elections at block number':\n        '       ',\n      'Delegator Reward': ' ',\n      'Guardian Excellency Reward': '  ',\n      'Validator Reward': ' ',\n      'Total Reward': ' ',\n      'Become a validator': ' ',\n      'Ethereum Address': ' ',\n      'Orbs Address': 'Orbs ',\n      Stake: ' ',\n      Yes: 'Yes',\n      No: 'No',\n      Distributed: '',\n      'Distribution Event': ' ',\n      'Transaction Hash': ' ',\n      Amount: '',\n      'Total Distributed': ' ',\n      \"Delegator's ORBS Balance\": ' ORBS ',\n      'Last election votes against (%)': '   (%)',\n      'Manually Delegate Your Stake': '  ',\n      Cancel: '',\n      'Display ORBS in metamask': '  ORBS ',\n\n      // *************************\n      // Well formatted messages\n      // *************************\n\n      // Participation\n      text_delegatorDescriptionMain:\n        'ORBS   ,         .            .        .',\n      text_delegatorDescriptionTetra:\n        'TETRA    . ORBS       .',\n      linkText_tetraWalletTutorial: 'Tetra ',\n\n      // Rewards Page\n      // TODO : TRANSLATIONs : ADD\n      message_orbsWillTransitionToV2On: 'Orbs will transition to V2 on Nov 30',\n      message_toChangeDelegationsUseV1Tetra: 'To change your V1 Delegation please use {{tetraLink}}',\n      concept_tetraV1: 'Tetra V1',\n\n      // Rewards table\n      delegatorNonStakedOrbs: '   ORBS',\n      delegatorStakedOrbs: '   ORBS',\n\n      // Alerts\n      alert_stakingWithoutGuardian:\n        ' -        .  ,   ',\n      alert_delegatingToNonGuardian:\n        'Warning - this address is delegating to an address that does not belong to a Guardian. No rewards will be accumulated',\n      alert_notParticipating: ':   ORBS     ',\n      action_goToTetra: '{{tetraLink}} ',\n      action_youCanStakeYourORBSAndSelectAGuardianWithTetra:\n        '{{tetraLink}} ORBS   ',\n      text_tetraName: 'Tetra',\n    },\n  },\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { useLocation } from 'react-router';\nimport React, { useContext } from 'react';\nimport { PreLangBasenameContext } from './PreLangBasenameContext';\n\nfunction addLangToCurrentLocation(location, preLangBasename: string, lang: string) {\n  const langRegexp = /\\/(en|ko|jp)\\//;\n  return location.pathname.match(langRegexp)\n    ? location.pathname.replace(langRegexp, `/${lang}/`)\n    : `${preLangBasename}/${lang}${location.pathname}`;\n}\n\ninterface IProps {\n  lang: string;\n}\n\nexport const ChangeLangLink: React.FC<IProps> = ({ lang, children }) => {\n  const location = useLocation();\n  const preLangBasename = useContext(PreLangBasenameContext);\n  return <a href={addLangToCurrentLocation(location, preLangBasename, lang)}>{children}</a>;\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { withStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { ChangeLangLink } from '../multi-lang/ChangeLangLink';\nimport EN_FLAG from './en-us.png';\nimport JP_FLAG from './jp.png';\nimport KO_FLAG from './ko.png';\n\nconst styles = () => ({\n  list: {\n    padding: 0,\n    margin: 0,\n    display: 'inherit',\n    listStyle: 'none',\n    justifyContent: 'flex-end',\n  },\n  item: {\n    // padding: '0 10px',\n    paddingInlineStart: '20px',\n    '&:hover': {\n      opacity: 0.8,\n    },\n  },\n});\n\nconst LanguagesImpl = ({ classes }) => {\n  return (\n    <ul className={classes.list}>\n      <li className={classes.item}>\n        <ChangeLangLink lang='en'>\n          <img src={EN_FLAG} alt='English' />\n        </ChangeLangLink>\n      </li>\n      <li className={classes.item}>\n        <ChangeLangLink lang='jp'>\n          <img src={JP_FLAG} alt='Japanese' />\n        </ChangeLangLink>\n      </li>\n      <li className={classes.item}>\n        <ChangeLangLink lang='ko'>\n          <img src={KO_FLAG} alt='Korean' />\n        </ChangeLangLink>\n      </li>\n    </ul>\n  );\n};\n\nexport const Languages = withStyles(styles)(LanguagesImpl);\n","import { createContext, useContext } from 'react';\nimport { IMetamask } from './IMetamask';\nimport { IRemoteService } from './IRemoteService';\nimport { IGuardiansService, IOrbsRewardsService, IStakingService } from 'orbs-pos-data';\n\nexport const ApiContext = createContext<{\n  remoteService: IRemoteService;\n  stakingService: IStakingService;\n  orbsRewardsService: IOrbsRewardsService;\n  guardiansService: IGuardiansService;\n  metamask?: IMetamask;\n}>(null!);\nexport const useApi = () => {\n  return useContext(ApiContext);\n};\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\n\nexport const AppTheme = (fontFamily: string) =>\n  responsiveFontSizes(\n    createMuiTheme({\n      palette: {\n        type: 'dark',\n        primary: { main: '#09142c' },\n        secondary: { main: '#74f6fd' },\n        background: {\n          default: '#0a0f25',\n          paper: '#192a45',\n        },\n      },\n      typography: {\n        fontFamily,\n      },\n      overrides: {\n        MuiTypography: {\n          body1: {\n            fontWeight: 500,\n          },\n          h4: {\n            fontWeight: 600,\n          },\n        },\n        MuiTableCell: {\n          body: { fontWeight: 500 },\n        },\n      },\n    }),\n  );\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { MuiThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AppTheme } from './App.theme';\n\n// DEV_NOTE : O.L : Temp solution for header sizing and buffering\nexport const HEADER_HEIGHT_REM = 8;\n\n// TODO : ORL : Break this apart if not re-building\nexport const ThemeProvider: React.FC = ({ children }) => {\n  const { t } = useTranslation();\n  return <MuiThemeProvider theme={AppTheme(t('fontFamily'))}>{children}</MuiThemeProvider>;\n};\n","import { useTranslation } from 'react-i18next';\nimport { useMemo } from 'react';\n\nconst links = [\n  { translationKey: 'Home', url: '/' },\n  { translationKey: 'Guardians', url: '/delegator' },\n  { translationKey: 'Validators', url: '/guardian' },\n  { translationKey: 'Elected Validators', url: '/validator' },\n  { translationKey: 'Rewards', url: '/reward' },\n];\n\nexport type TLinkDescriptor = {\n  label: string;\n  url: string;\n};\n\nexport const useLinkDescriptors = () => {\n  const { t } = useTranslation();\n  const linkDescriptors = useMemo<TLinkDescriptor[]>(() => {\n    return links.map((link) => ({ url: link.url, label: t(link.translationKey) }));\n  }, [t]);\n\n  return linkDescriptors;\n};\n","import React, { createRef, useCallback, useMemo, useRef } from 'react';\nimport { Button, IconButton, Menu, MenuItem, Popover, Typography } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport { NavLink } from 'react-router-dom';\nimport { HOVER_COLOR } from './Header';\nimport { useLinkDescriptors } from './links';\nimport { useBoolean } from 'react-hanger';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    // marginRight: theme.spacing(2),\n  },\n  typography: {\n    padding: theme.spacing(2),\n  },\n  link: {\n    width: '100%',\n    color: '#ffffffb3',\n    // marginLeft: 30,\n    transition: 'color 0.4s ease-in-out',\n    '&:hover': {\n      color: HOVER_COLOR,\n    },\n  },\n}));\n\nexport const MenuPopup = React.memo((props) => {\n  const classes = useStyles();\n  const linkDescriptors = useLinkDescriptors();\n  console.log('Render menu');\n\n  const { setFalse, setTrue, value } = useBoolean(false);\n\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      setTrue();\n      setAnchorEl(event.currentTarget);\n    },\n    [setTrue],\n  );\n\n  const handleClose = useCallback(() => {\n    setFalse();\n    setAnchorEl(null);\n  }, [setFalse]);\n\n  const menuItemLinks = useMemo(() => {\n    return linkDescriptors.map(({ label, url }, idx) => (\n      <MenuItem onClick={() => undefined} key={label + url}>\n        <Link\n          onClick={setFalse}\n          // @ts-ignore\n          component={NavLink}\n          key={idx}\n          exact={true}\n          className={classes.link}\n          activeStyle={{ color: HOVER_COLOR }}\n          underline='none'\n          to={url}\n          variant='h6'\n          noWrap\n        >\n          {label}\n        </Link>\n      </MenuItem>\n    ));\n  }, [classes.link, linkDescriptors, setFalse]);\n\n  const id = value ? 'links-popover-menu' : undefined;\n\n  return (\n    <div>\n      <IconButton onClick={handleClick} className={classes.menuButton} color='inherit' aria-label='menu'>\n        <MenuIcon />\n      </IconButton>\n      {/* TODO : O.L : Think about using 'Menu' instead of 'Popover' */}\n      <Popover\n        id={id}\n        open={value}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        {menuItemLinks}\n      </Popover>\n    </div>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles, useTheme, withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport classNames from 'classnames';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { NavLink } from 'react-router-dom';\nimport { ReadOnlyBanner } from '../ReadOnlyBanner/ReadOnlyBanner';\nimport { Languages } from './languages';\nimport logo from './logo-white.svg';\nimport { Button, IconButton, useMediaQuery } from '@material-ui/core';\nimport { useApi } from '../../services/ApiContext';\nimport { HEADER_HEIGHT_REM } from '../App/ThemeProvider';\nimport { MenuPopup } from './MenuPopup';\nimport { useLinkDescriptors } from './links';\n\nexport const HOVER_COLOR = '#16faff';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    paddingTop: '0.5rem',\n    paddingBottom: '0.5rem',\n    boxSizing: 'border-box',\n    height: `${HEADER_HEIGHT_REM}rem`,\n    zIndex: theme.zIndex.drawer + 1,\n    // padding: `${theme.spacing(2)}px ${theme.spacing(8)}px`,\n    // padding: theme.spacing(1),\n  },\n  logo: {\n    width: 70,\n  },\n  nav: {\n    display: 'inherit',\n    flexWrap: 'wrap',\n  },\n  toolbar: {\n    paddingRight: 0,\n    paddingLeft: 0,\n    // marginRight: 'auto',\n    // marginLeft: 'auto',\n    margin: 'auto',\n    width: '90%',\n    maxWidth: '90%',\n    justifyContent: 'space-between',\n  },\n  headerButtonsContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    margin: 'auto',\n    width: '90%',\n    maxWidth: '90%',\n  },\n  displayInMetamaskButton: {\n    marginRight: `${theme.spacing(3)}px`,\n  },\n  movedDown: {\n    paddingTop: 48,\n  },\n  link: {\n    color: '#ffffffb3',\n    marginLeft: 30,\n    transition: 'color 0.4s ease-in-out',\n    '&:hover': {\n      color: HOVER_COLOR,\n    },\n  },\n}));\n\n// TODO : O.L : Fix the snackbar hiding the header\nexport const Header = React.memo((props) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { metamask } = useApi();\n  // const hasMetamask = useMemo(() => !!metamask, [metamask]);\n  // const [isNoMetamaskBannerOpen, setIsMetamaskBannerOpen] = useState(!hasMetamask);\n  // const hideMetaMaskBanner = useCallback(() => setIsMetamaskBannerOpen(false), [setIsMetamaskBannerOpen]);\n\n  const theme = useTheme();\n  const smallerThanSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  const linkDescriptors = useLinkDescriptors();\n\n  // C.F.H : add proper menu for smaller screens\n\n  const menuLinks = useMemo(() => {\n    return linkDescriptors.map(({ label, url }, idx) => (\n      <Link\n        // @ts-ignore\n        component={NavLink}\n        key={idx}\n        exact={true}\n        className={classes.link}\n        activeStyle={{ color: HOVER_COLOR }}\n        underline='none'\n        to={url}\n        variant='h6'\n        noWrap\n      >\n        {label}\n      </Link>\n    ));\n  }, [classes.link, linkDescriptors]);\n\n  const menu = useMemo(() => {\n    if (smallerThanSmall) {\n      return <MenuPopup />;\n    } else {\n      return <nav className={classes.nav}>{menuLinks}</nav>;\n    }\n  }, [classes.nav, menuLinks, smallerThanSmall]);\n\n  return (\n    <AppBar\n      position='fixed'\n      className={classNames({\n        [classes.appBar]: true,\n        // [classes.movedDown]: isNoMetamaskBannerOpen, // Add header padding so the banner will not hide the content\n      })}\n      data-testid='header'\n    >\n      {/* MetaMask banner */}\n      {/*<ReadOnlyBanner isOpen={isNoMetamaskBannerOpen} closeBanner={hideMetaMaskBanner} />*/}\n\n      <div className={classes.headerButtonsContainer}>\n        {metamask && !smallerThanSmall && (\n          <Button\n            size='small'\n            variant='outlined'\n            color='secondary'\n            onClick={() => metamask.displayOrbsInMetamask()}\n            className={classes.displayInMetamaskButton}\n          >\n            {t('Display ORBS in metamask')}\n          </Button>\n        )}\n        <Languages />\n      </div>\n      <Toolbar className={classes.toolbar}>\n        <NavLink to='/'>\n          <img className={classes.logo} src={logo} alt='Orbs' />\n        </NavLink>\n        {menu}\n      </Toolbar>\n    </AppBar>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { IRemoteService } from '../../services/IRemoteService';\n\nconst styles = () => ({\n  checkButton: {\n    margin: '12px 30px',\n  },\n});\n\nconst DelegationStatusLabel = ({ address }) => {\n  const { t } = useTranslation();\n  let label = '';\n  if (address === '0x0000000000000000000000000000000000000000') {\n    label = t('Your vote has not been delegated yet.');\n  } else {\n    label = t('Your vote has been delegated to') + ': ' + address;\n  }\n  return (\n    <Typography variant='body1' color='secondary' style={{ marginTop: '10px' }}>\n      {label}\n    </Typography>\n  );\n};\n\nconst DelegationStatusDialogImpl = ({ remoteService, classes }: { remoteService: IRemoteService; classes: any }) => {\n  const [isOpened, setIsOpened] = useState(false);\n  const [address, setAddress] = useState('');\n  const [delegatedTo, setDelegatedTo] = useState('');\n\n  const fetchDelegationStatus = address => {\n    remoteService.getCurrentDelegation(address).then(setDelegatedTo);\n  };\n\n  const prefetch = () => {\n    if (window['ethereum'] && window['ethereum']['selectedAddress']) {\n      setAddress(window['ethereum']['selectedAddress']);\n      fetchDelegationStatus(window['ethereum']['selectedAddress']);\n    }\n  };\n\n  const { t } = useTranslation();\n  return (\n    <>\n      <Button variant='contained' color='secondary' onClick={() => setIsOpened(true)}>\n        {t('Check delegation status')}\n      </Button>\n\n      <Dialog open={isOpened} onEnter={prefetch} onClose={() => setIsOpened(false)} maxWidth='lg' fullWidth={true}>\n        <DialogTitle>{t('Check your delegation status')}</DialogTitle>\n        <DialogContent>\n          <Typography variant='body1' color='textPrimary' gutterBottom>\n            {t('Enter your address in order to check to whom your stake is delegated.')}\n          </Typography>\n          <TextField\n            required\n            placeholder='Enter address 0x00...'\n            value={address}\n            onChange={ev => {\n              setAddress(ev.target.value);\n              setDelegatedTo('');\n            }}\n            margin='normal'\n            variant='standard'\n            style={{ width: '40%' }}\n          />\n          <Button\n            variant='contained'\n            color='secondary'\n            className={classes.checkButton}\n            onClick={() => fetchDelegationStatus(address)}\n          >\n            {t('Check')}\n          </Button>\n          {delegatedTo && <DelegationStatusLabel address={delegatedTo} />}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setIsOpened(false)}>{t('Close')}</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport const DelegationStatusDialog = withStyles(styles)(DelegationStatusDialogImpl);\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { withStyles } from '@material-ui/core/styles';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslation } from 'react-i18next';\n\nconst styles = () => ({});\n\nconst DelegateButton = ({ onDelegate }) => {\n  const { t } = useTranslation();\n  return (\n    <Button data-testid={`delegate-button`} onClick={onDelegate} variant='outlined' color='secondary'>\n      {t('Delegate')}\n    </Button>\n  );\n};\n\nconst ManualDelegationDialogImpl = ({ dialogState, onClose, onDelegate }) => {\n  const [delegatorAddress, setDelegatorAddress] = useState('');\n\n  const { t } = useTranslation();\n  return (\n    <Dialog open={dialogState} onClose={onClose} maxWidth='lg' fullWidth={true}>\n      <DialogTitle>{t('Manually Delegate Your Stake')}</DialogTitle>\n      <DialogContent data-testid='manual-delegation-dialog'>\n        <Typography variant='body1' color='textPrimary'>\n          {t('Manual Delegation Description')}\n        </Typography>\n        <TextField\n          required\n          data-testid='delegate-address-field'\n          placeholder={t('Delegate Ethereum Address')}\n          value={delegatorAddress}\n          onChange={ev => setDelegatorAddress(ev.target.value)}\n          margin='normal'\n          variant='standard'\n          style={{ width: '40%' }}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>{t('Cancel')}</Button>\n        <DelegateButton onDelegate={() => onDelegate(delegatorAddress)} />\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport const ManualDelegationDialog = withStyles(styles)(ManualDelegationDialogImpl);\n","import React, { useState } from 'react';\nimport { Tooltip, SvgIcon, IconButton } from '@material-ui/core';\n\nconst CopyIcon = () => {\n  return (\n    <SvgIcon fontSize='small'>\n      <path fill='none' d='M0 0h24v24H0V0z' />\n      <path d='M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z' />\n    </SvgIcon>\n  );\n};\n\nconst CLOSE_TIMEOUT = 1000;\n\nexport const CopyAddressButton = ({ address }) => {\n  const [tooltipShown, setTooltopShown] = useState(false);\n  const copy = ev => {\n    ev.stopPropagation();\n    (navigator as any).clipboard.writeText(address).then(() => {\n      setTooltopShown(true);\n      setTimeout(() => {\n        setTooltopShown(false);\n      }, CLOSE_TIMEOUT);\n    });\n  };\n  if ((navigator as any).clipboard) {\n    return (\n      <Tooltip placement='top' title='Copied!' open={tooltipShown}>\n        <IconButton onClick={copy}>\n          <CopyIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  } else {\n    return null;\n  }\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport { Chip } from '@material-ui/core';\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst styles = () => ({\n  yesChip: {\n    width: 50,\n    backgroundColor: green[400],\n  },\n  noChip: {\n    width: 50,\n    backgroundColor: red[700],\n  },\n});\n\nconst VoteChipImpl = ({ value, classes }) => {\n  const { t } = useTranslation();\n  return <Chip className={value ? classes.yesChip : classes.noChip} label={value ? t('Yes') : t('No')} />;\n};\n\nexport const VoteChip = withStyles(styles)(VoteChipImpl);\n","import React, { forwardRef } from 'react';\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { SvgIcon } from '@material-ui/core';\n\n// DEV_NOTE : This is done as recommended at 'https://github.com/mbrn/material-table'\n\nexport const TABLE_ICONS = {\n  Add: forwardRef<SVGSVGElement>((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef<SVGSVGElement>((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef<SVGSVGElement>((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef<SVGSVGElement>((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef<SVGSVGElement>((props, ref) => <ChevronRight {...props} ref={ref} />),\n  Edit: forwardRef<SVGSVGElement>((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef<SVGSVGElement>((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef<SVGSVGElement>((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef<SVGSVGElement>((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef<SVGSVGElement>((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef<SVGSVGElement>((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef<SVGSVGElement>((props, ref) => <ChevronLeft {...props} ref={ref} />),\n  ResetSearch: forwardRef<SVGSVGElement>((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef<SVGSVGElement>((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef<SVGSVGElement>((props, ref) => <ArrowDownward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef<SVGSVGElement>((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef<SVGSVGElement>((props, ref) => <ViewColumn {...props} ref={ref} />),\n};\n","import React, { PropsWithChildren, useCallback, useMemo } from 'react';\nimport MaterialTable, { Components, MaterialTableProps, MTableBody, Options } from 'material-table';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport { TABLE_ICONS } from './TableIcons';\n\ninterface IProps {}\nconst typedMemo: <T>(c: T) => T = React.memo;\n\nconst a = <RowData extends object>(props: IProps & MaterialTableProps<RowData>) => {\n  return <div>Stam</div>;\n};\n\nconst MemA = typedMemo(a);\n\n/**\n * The table used throughout the app.\n */\nexport const CommonTableImp = <RowData extends object>(props: IProps & MaterialTableProps<RowData>) => {\n  const { columns, data, components, options, ...others } = props;\n  const renderNotContainer = useCallback((containerProps: PropsWithChildren<any>) => containerProps.children, []);\n\n  const componentsOverride: Components = useMemo(\n    () => ({\n      //  DEV_NOTE : Remove 'Paper'\n      Container: renderNotContainer,\n      // Adds all of the other components override\n      ...components,\n    }),\n    [renderNotContainer, components],\n  );\n\n  const tableStyle: React.CSSProperties = useMemo(() => ({ backgroundColor: 'rgba(0,0,0, 0)' }), []);\n  const bareTableOptions: Options<RowData> = useMemo(\n    () => ({\n      headerStyle: {\n        backgroundColor: 'rgba(0,0,0,0)',\n      },\n      search: false,\n      showTitle: false,\n      paging: false,\n      ...options,\n    }),\n    [options],\n  );\n\n  return (\n    <MaterialTable\n      components={componentsOverride}\n      style={tableStyle}\n      icons={TABLE_ICONS}\n      columns={columns}\n      data={data}\n      options={bareTableOptions}\n      {...others}\n    />\n  );\n};\n\nexport const CommonTable = typedMemo(CommonTableImp);\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { Checkbox } from '@material-ui/core';\nimport blue from '@material-ui/core/colors/blue';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport React, { ChangeEvent, useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CopyAddressButton } from '../../components/CopyAddressButton/CopyAddressButton';\nimport { VoteChip } from '../../components/VoteChip/VoteChip';\nimport { TGuardianInfoExtended } from '../../Store/GuardiansStore';\nimport { observable } from 'mobx';\nimport { observer } from 'mobx-react';\nimport { IReactComponent } from 'mobx-react/dist/types/IReactComponent';\nimport { CommonTable } from '../../components/tables/CommonTable';\nimport { Column } from 'material-table';\nimport { IRewardsDistributionEvent } from 'orbs-pos-data';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    marginBottom: 30,\n    tableLayout: 'fixed' as any,\n  },\n  cell: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  delegateButton: {\n    width: 70,\n    backgroundColor: blue[700],\n  },\n}));\n\ninterface IProps {\n  enableDelegation: boolean;\n  onSelect: (guardianAddress: string) => void;\n  guardians: TGuardianInfoExtended[];\n  delegatedTo: string;\n}\n\nconst asPercent = (num: number) =>\n  (num * 100).toLocaleString(undefined, { maximumFractionDigits: 2, minimumFractionDigits: 2 }) + '%';\n\nexport const GuardiansList = observer<React.FunctionComponent<IProps>>((props) => {\n  const { enableDelegation, onSelect, guardians, delegatedTo } = props;\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const [candidate, setCandidate] = useState(delegatedTo);\n\n  // TODO : O.L : We use 'length' to force a re-render when the array update, find a better solution.\n  const length = guardians.length;\n  const sortedGuardians = useMemo(() => {\n    const i = length;\n    // TODO : Add a tie-breaker of 'did vote'\n    return [...guardians].sort((a, b) => b.stakePercent - a.stakePercent);\n  }, [guardians, length]);\n\n  const handleGuardianCheckboxChange = useCallback(\n    (ev: ChangeEvent<HTMLInputElement>) => {\n      setCandidate(ev.target.value);\n      onSelect(ev.target.value);\n    },\n    [onSelect],\n  );\n\n  const COLUMNS = useMemo<Column<TGuardianInfoExtended>[]>(() => {\n    return [\n      {\n        render: (guardian) =>\n          enableDelegation && (\n            <Checkbox\n              checked={guardian.address === candidate}\n              value={guardian.address}\n              onChange={handleGuardianCheckboxChange}\n            />\n          ),\n        type: 'boolean',\n        sorting: false,\n        cellStyle: { padding: 0 },\n      },\n      {\n        title: t('name'),\n        field: 'name',\n        type: 'string',\n      },\n      {\n        render: (guardian) => <CopyAddressButton address={guardian.address} />,\n        width: 'min-content',\n        type: 'boolean',\n        sorting: false,\n        cellStyle: { padding: 0 },\n      },\n      {\n        title: t('address'),\n        field: 'address',\n      },\n      {\n        title: t('website'),\n        field: 'website',\n        render: (guardian) => (\n          <Link\n            data-testid={`guardian-${guardian.address}-url`}\n            href={guardian.website}\n            target='_blank'\n            rel='noopener noreferrer'\n            color='secondary'\n            variant='body1'\n          >\n            {guardian.website}\n          </Link>\n        ),\n      },\n      {\n        title: t('% in last election'),\n        field: 'stakePercent',\n        render: (guardian) => asPercent(guardian.stakePercent),\n      },\n      {\n        title: t('Voted for next elections'),\n        field: 'hasEligibleVote',\n        render: (guardian) => <VoteChip value={guardian.hasEligibleVote} />,\n      },\n    ];\n  }, [candidate, enableDelegation, handleGuardianCheckboxChange, t]);\n  return <CommonTable columns={COLUMNS} data={sortedGuardians} options={{ padding: 'dense' }} />;\n});\n","import React from 'react';\nimport { MobXProviderContext } from 'mobx-react';\nimport { IStores } from './stores';\nimport { GuardiansStore } from './GuardiansStore';\n\nexport function useStores(): IStores {\n  // @ts-ignore\n  return React.useContext(MobXProviderContext);\n}\n\nexport function useGuardiansStore(): GuardiansStore {\n  return useStores().guardiansStore;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface IProps {}\n\nconst useStyles = makeStyles((theme) => ({\n  page: {\n    height: '100%',\n    width: 'fit-content',\n    maxWidth: '100%',\n    boxSizing: 'border-box',\n    paddingBottom: '2em',\n  },\n}));\n\nexport const Page = React.memo<IProps>((props) => {\n  const classes = useStyles();\n  const { children } = props;\n  return <div className={classes.page}>{children}</div>;\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { useApi } from '../../services/ApiContext';\nimport { DelegationStatusDialog } from '../../components/DelegationStatusDialog/DelegationStatusDialog';\nimport { ManualDelegationDialog } from '../../components/ManualDelegationDialog/ManualDelegationDialog';\nimport { GuardiansList } from './GuardiansList';\nimport { useGuardiansStore } from '../../Store/storeHooks';\nimport { observer } from 'mobx-react';\nimport { Page } from '../../components/structure/Page';\n\n// TODO : O.L : Add loading indicator\nexport const DelegatorsPage = observer(() => {\n  const { remoteService, metamask } = useApi();\n  const guardiansStore = useGuardiansStore();\n\n  const [manualDelegationDialogState, setManualDelegationDialogState] = useState(false);\n\n  const [totalParticipatingTokens, setTotalParticipatingTokens] = useState('0');\n  const [delegatedTo, setDelegatedTo] = useState('');\n  const [delegationCandidate, setDelegationCandidate] = useState('');\n  const [upcomingElectionsBlockNumber, setUpcomingElectionsBlockNumber] = useState('');\n\n  const fetchUpcomingElectionsBlockNumber = useCallback(async () => {\n    const res = await remoteService.getUpcomingElectionBlockNumber();\n    setUpcomingElectionsBlockNumber(Number(res).toLocaleString());\n  }, [remoteService]);\n\n  const fetchTotalParticipatingTokens = useCallback(async () => {\n    const totalParticipatingTokens = await remoteService.getTotalParticipatingTokens();\n    setTotalParticipatingTokens(Number(totalParticipatingTokens).toLocaleString());\n  }, [remoteService]);\n\n  const fetchDelegatedTo = useCallback(async () => {\n    if (metamask) {\n      const address = await metamask.getCurrentAddress();\n      const res = await remoteService.getCurrentDelegation(address);\n      setDelegatedTo(res);\n    }\n  }, [metamask, remoteService]);\n\n  // TODO : Fix this loading\n  useEffect(() => {\n    fetchTotalParticipatingTokens();\n    fetchDelegatedTo();\n    fetchUpcomingElectionsBlockNumber();\n  }, [fetchDelegatedTo, fetchTotalParticipatingTokens, fetchUpcomingElectionsBlockNumber]);\n\n  const delegate = useCallback(\n    async (candidateAddress) => {\n      if (metamask) {\n        const receipt = await metamask.delegate(candidateAddress);\n        fetchDelegatedTo();\n      }\n    },\n    [fetchDelegatedTo, metamask],\n  );\n\n  const manualDelegateHandler = (address) => {\n    delegate(address);\n    setTimeout(() => {\n      setManualDelegationDialogState(false);\n    }, 100);\n  };\n\n  const { t } = useTranslation();\n\n  const centerContent: React.CSSProperties = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '15px',\n  };\n\n  const hereElement = (\n    <Link\n      variant='h6'\n      color='secondary'\n      data-testid='open-manual-delegation-dialog'\n      onClick={() => setManualDelegationDialogState(true)}\n    >\n      here\n    </Link>\n  );\n\n  return (\n    <Page>\n      <header style={centerContent}>\n        <Typography variant='h2' component='h2' gutterBottom color='textPrimary'>\n          {t('Guardians List')}\n        </Typography>\n        <DelegationStatusDialog remoteService={remoteService} />\n      </header>\n\n      <div style={centerContent}>\n        <Typography variant='body1' gutterBottom color='textPrimary'>\n          {t('Next election round will take place at Ethereum block') + ':'}{' '}\n          <Link\n            color='secondary'\n            target='_blank'\n            rel='noopener'\n            href={`//etherscan.io/block/countdown/${upcomingElectionsBlockNumber}`}\n            style={{ marginRight: '1rem' }}\n          >\n            {upcomingElectionsBlockNumber}\n          </Link>\n        </Typography>\n\n        <Typography variant='body1' gutterBottom color='textPrimary'>\n          {t('Participating stake')}\n          {': '}\n          {totalParticipatingTokens} ORBS\n        </Typography>\n      </div>\n\n      {guardiansStore.doneLoading}\n      <GuardiansList\n        delegatedTo={delegatedTo}\n        enableDelegation={metamask !== undefined}\n        guardians={guardiansStore.guardiansList}\n        onSelect={setDelegationCandidate}\n      />\n\n      {metamask && (\n        <Typography paragraph variant='body1' color='textPrimary'>\n          <Trans i18nKey='delegateMessage'>Want to delegate manually to another address? Click {hereElement}.</Trans>\n        </Typography>\n      )}\n\n      <ManualDelegationDialog\n        dialogState={manualDelegationDialogState}\n        onClose={() => setManualDelegationDialogState(false)}\n        onDelegate={manualDelegateHandler}\n      />\n\n      <div style={{ textAlign: 'center' }}>\n        {metamask && (\n          <Button variant='outlined' color='secondary' onClick={() => delegate(delegationCandidate)}>\n            {t('Delegate')}\n          </Button>\n        )}\n      </div>\n    </Page>\n  );\n});\n","export const normalizeUrl = url =>\n  url.startsWith('http') ? url : `http://${url}`;\n","const key = '_ORBS_VOTING_HISTORY_';\n\nconst hasLocalStorageAccess = () => {\n  return !!window.localStorage;\n};\n\nexport const save = (from, addresses: string[]): boolean => {\n  if (!hasLocalStorageAccess()) {\n    return false;\n  }\n  try {\n    window.localStorage.setItem(`${key}${from}`, JSON.stringify(addresses));\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const get = (from: string): string[] => {\n  if (!hasLocalStorageAccess) {\n    return [];\n  }\n  try {\n    const value = window.localStorage.getItem(`${key}${from}`);\n    if (value) {\n      return JSON.parse(value);\n    } else {\n      return [];\n    }\n  } catch (err) {\n    return [];\n  }\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useMemo } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport { CommonTable } from '../tables/CommonTable';\nimport { Column } from 'material-table';\nimport { TGuardianInfoExtended } from '../../Store/GuardiansStore';\nimport { Checkbox, Link, Tooltip } from '@material-ui/core';\nimport { CopyAddressButton } from '../CopyAddressButton/CopyAddressButton';\n\nconst styles = () => ({});\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    tableLayout: 'fixed' as any,\n  },\n  cell: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n}));\n\n// TODO : This was constructed for quick responsive fix,  re-consider this type.\nexport type TValidatorForListTemp = {\n  address: string;\n  checked: boolean;\n  name: string;\n  url: string;\n  orbsAddress: string;\n  votesAgainst: string;\n};\n\ninterface IProps {\n  disableAll: boolean;\n  readOnly: boolean;\n  onToggle: (address: string) => void;\n  validators: { [address: string]: TValidatorForListTemp };\n}\n\nexport const ValidatorsList = React.memo<IProps>((props) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { disableAll, readOnly, onToggle, validators } = props;\n\n  const COLUMNS = useMemo<Column<TValidatorForListTemp>[]>(() => {\n    return [\n      {\n        type: 'boolean',\n        sorting: false,\n        cellStyle: { padding: 0 },\n        render: (validator) =>\n          !readOnly && (\n            <Checkbox\n              disabled={!validator.checked && disableAll}\n              data-testid={`validator-${validator.address}-checkbox`}\n              value={validator.checked}\n              onChange={() => onToggle(validator.address)}\n            />\n          ),\n      },\n      {\n        title: t('name'),\n        field: 'name',\n      },\n      {\n        sorting: false,\n        cellStyle: { padding: 0 },\n        render: (validator) => <CopyAddressButton address={validator.address} />,\n      },\n      {\n        title: t('Ethereum Address'),\n        field: 'address',\n        render: (validator) => (\n          <Tooltip title={validator.address} placement='top-start' enterDelay={200}>\n            <span>{validator.address}</span>\n          </Tooltip>\n        ),\n      },\n      {\n        sorting: false,\n        cellStyle: { padding: 0 },\n        render: (validator) => <CopyAddressButton address={validator.orbsAddress} />,\n      },\n      {\n        title: t('Orbs Address'),\n        field: 'orbsAddress',\n        render: (validator) => (\n          <Tooltip title={validator.orbsAddress} placement='top-start' enterDelay={200}>\n            <span>{validator.orbsAddress}</span>\n          </Tooltip>\n        ),\n      },\n      {\n        title: t('Website'),\n        field: 'url',\n        render: (validator) => (\n          <Link\n            data-testid={`validator-${validator.address}-url`}\n            href={validator.url}\n            target='_blank'\n            rel='noopener noreferrer'\n            color='secondary'\n            variant='body1'\n          >\n            {validator.url}\n          </Link>\n        ),\n      },\n      {\n        title: t('Last election votes against (%)'),\n        field: 'votesAgainst',\n        render: (validator) => `${validator.votesAgainst}%`,\n      },\n    ];\n  }, [t]);\n\n  return <CommonTable data={Object.values(validators)} columns={COLUMNS} />;\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { useApi } from '../../services/ApiContext';\nimport { normalizeUrl } from '../../services/urls';\nimport { get, save } from '../../services/vote-storage';\nimport { TValidatorForListTemp, ValidatorsList } from './ValidatorsList';\nimport { Page } from '../structure/Page';\n\nconst ReadOnlyVoteButton = () => {\n  const { t } = useTranslation();\n  return (\n    <Tooltip title='Install Metamask extension to have access to voting capabilities'>\n      <div>\n        <Button data-testid='vote-button' variant='outlined' color='secondary' disabled={true}>\n          {t('Vote Out')}\n        </Button>\n      </div>\n    </Tooltip>\n  );\n};\n\nconst VoteButton = ({ onVote, disabled }) => {\n  const { t } = useTranslation();\n  return (\n    <Button data-testid='vote-button' onClick={onVote} variant='outlined' color='secondary' disabled={disabled}>\n      {t('Vote Out')}\n    </Button>\n  );\n};\n\nconst LeaveEveryoneButton = ({ onVote, disabled }) => {\n  const { t } = useTranslation();\n  return (\n    <Button\n      data-testid='leave-everyone-button'\n      style={{ marginRight: 15 }}\n      variant='outlined'\n      color='secondary'\n      onClick={onVote}\n      disabled={disabled}\n    >\n      {t('Keep everyone')}\n    </Button>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  voteButton: {\n    textAlign: 'center' as any,\n    margin: '30px 0',\n  },\n}));\nexport const GuardiansPage = React.memo((props) => {\n  const classes = useStyles();\n  const { remoteService, metamask } = useApi();\n  const [validators, setValidators] = useState(\n    {} as {\n      [address: string]: TValidatorForListTemp;\n    },\n  );\n\n  const [lastVote, setLastVote] = useState<string[]>([]);\n  const [selectionDisabled, setSelectionDisabled] = useState(false);\n\n  const fetchValidator = async (address, checked) => {\n    const data = await remoteService.getValidatorData(address);\n    validators[address] = {\n      address,\n      checked,\n      name: data['name'],\n      url: normalizeUrl(data['website']),\n      orbsAddress: data['orbsAddress'],\n      votesAgainst: data['votesAgainst'],\n    };\n    setValidators(Object.assign({}, validators));\n  };\n\n  const fetchValidators = async () => {\n    const validatorsInState = await remoteService.getValidators();\n\n    if (metamask && isMetamaskActive()) {\n      const from = await metamask.getCurrentAddress();\n      const validatorsInStorage = get(from);\n      validatorsInState.forEach((address) => {\n        fetchValidator(address, validatorsInStorage.indexOf(address) > -1);\n      });\n    } else {\n      validatorsInState.forEach((address) => fetchValidator(address, false));\n    }\n  };\n\n  const { t } = useTranslation();\n\n  const fetchLastVote = async () => {\n    try {\n      if (metamask) {\n        const { validators } = await metamask.getLastVote();\n        setLastVote(validators);\n      }\n    } catch (err) {\n      console.warn(t('Guardian did not vote before'));\n    }\n  };\n\n  const commitVote = async () => {\n    if (metamask) {\n      const from = await metamask.getCurrentAddress();\n      const stagedValidators = Object.keys(validators).filter((address) => validators[address].checked);\n      const receipt = await metamask.voteOut(stagedValidators);\n      save(from, stagedValidators);\n      fetchLastVote();\n    }\n  };\n\n  const validateVoteOutAmount = (validators): boolean => {\n    const checkedAmount = Object.keys(validators).reduce((acc, key) => {\n      acc += Number(validators[key].checked);\n      return acc;\n    }, 0);\n    if (checkedAmount === 3) {\n      setSelectionDisabled(true);\n      return false;\n    } else {\n      setSelectionDisabled(false);\n      return true;\n    }\n  };\n\n  const toggleCheck = (address: string) => {\n    const update = Object.assign({}, validators);\n    update[address].checked = !update[address].checked;\n    if (validateVoteOutAmount(update)) {\n      setValidators(update);\n    }\n  };\n\n  const isMetamaskActive = () => window.ethereum._metamask.isEnabled();\n\n  const hasSomebodySelected = () => Object.keys(validators).some((address) => validators[address].checked);\n\n  useEffect(() => {\n    fetchValidators();\n    fetchLastVote();\n  }, []);\n\n  return (\n    <Page>\n      <Typography variant='h2' component='h2' gutterBottom color='textPrimary'>\n        {t('Validators List')}\n      </Typography>\n\n      {metamask && (\n        <Link to='/guardian/new'>\n          <Typography variant='overline' color='textSecondary'>\n            {t('Become a guardian')}\n          </Typography>\n        </Link>\n      )}\n\n      <ValidatorsList\n        disableAll={selectionDisabled}\n        readOnly={!metamask}\n        validators={validators}\n        onToggle={(address) => toggleCheck(address)}\n      />\n      <div className={classes.voteButton}>\n        {metamask ? (\n          <>\n            <LeaveEveryoneButton\n              onVote={commitVote}\n              disabled={hasSomebodySelected() || Object.keys(validators).length === 0}\n            />\n            <VoteButton onVote={commitVote} disabled={!hasSomebodySelected()} />\n          </>\n        ) : (\n          <ReadOnlyVoteButton />\n        )}\n      </div>\n\n      {metamask && lastVote.length > 0 ? (\n        <Typography variant='body1' color='textPrimary'>\n          {t('Your most recent vote was against')}\n          {':'}\n          {lastVote.map((address) => (\n            <Typography style={{ lineHeight: 1.7 }} variant='overline' key={address} color='textSecondary'>\n              {address}\n            </Typography>\n          ))}\n        </Typography>\n      ) : (\n        <Typography variant='body1' color='textPrimary'>\n          {t('You have not voted yet')}\n        </Typography>\n      )}\n    </Page>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport Link from '@material-ui/core/Link';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { NavLink } from 'react-router-dom';\nimport { content } from './content';\nimport { Page } from '../structure/Page';\n\n// DEV_NOTE : O.L : The responsiveness here is achieved with idea from https://heydonworks.com/article/the-flexbox-holy-albatross/\n\nconst useStyles = makeStyles((theme) => ({\n  explanations: {\n    // TODO : O.L : Check if we really need hard-coded value\n    maxWidth: '49em',\n  },\n  article: {\n    // marginTop: 90,\n    marginTop: theme.spacing(10),\n    maxWidth: '100%',\n  },\n  section: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyItems: 'center',\n    '--multiplier': 'calc(40rem - 100%)',\n    '--margin': '1rem',\n    // margin: 'calc(var(--margin) * -1)',\n\n    // marginBottom: 20,\n    overflowX: 'hidden',\n    '& > *': {\n      maxWidth: '100%',\n      // minWidth: '33%',\n      flexGrow: 1,\n      flexBasis: 'calc(var(--multiplier) * 999)',\n    },\n  },\n  imageBlock: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    // minWidth: 'minmax(242px, 30%)',\n    // minWidth: 'calc(242px -(var(--margin) * 2)',\n    minWidth: '242px',\n  },\n  textBlock: {\n    // minWidth: 'calc(65% -(var(--margin) * 2)',\n    minWidth: '65%',\n  },\n  image: {\n    maxWidth: '100%',\n  },\n  division: {\n    border: '1px solid #192a44',\n    margin: '70px 0',\n  },\n  links: {\n    color: 'white',\n    paddingLeft: 16,\n  },\n  link: {\n    lineHeight: '1.8em',\n  },\n  ctaButton: {\n    display: 'inline-block',\n    background: '#16faff',\n    border: 0,\n    borderRadius: '100px',\n    padding: '.8em 1.6em',\n    '&:hover': {\n      opacity: 0.9,\n    },\n  },\n}));\n\nexport const Home = React.memo((props) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const translatedContent = content(t);\n  return (\n    <Page>\n      <Typography variant='h2' gutterBottom color='textPrimary'>\n        {t('Participation Instructions')}\n      </Typography>\n      <Typography className={classes.explanations} variant='body1' gutterBottom color='textPrimary'>\n        {t('Participation Instructions Content1')}\n      </Typography>\n      <br />\n      <Typography className={classes.explanations} variant='body1' gutterBottom color='textPrimary'>\n        {t('Participation Instructions Content2')}\n      </Typography>\n\n      <article className={classes.article}>\n        {translatedContent.map((section, idx) => (\n          <React.Fragment key={section.title}>\n            <section className={classes.section}>\n              <div className={classes.imageBlock}>\n                <img className={classes.image} src={section.imageUrl} alt={section.title} />\n              </div>\n              <div className={classes.textBlock}>\n                <Typography variant='h4' gutterBottom color='textPrimary'>\n                  {section.title}\n                </Typography>\n                <Typography variant='body1' gutterBottom color='textPrimary'>\n                  {section.text}\n                </Typography>\n\n                {!section.text2 ? null : (\n                  <>\n                    <br />\n                    <Typography variant='body1' gutterBottom color='textPrimary'>\n                      {section.text2}\n                    </Typography>\n                  </>\n                )}\n\n                <ul className={classes.links}>\n                  {section.links.map((link, idx) => (\n                    <li key={idx} className={classes.link}>\n                      <Link variant='body1' color='secondary' href={link.url} target='_blank' rel='noopener'>\n                        {link.title}\n                      </Link>\n                    </li>\n                  ))}\n                </ul>\n                <Link\n                  // @ts-ignore\n                  component={NavLink}\n                  to={section.cta.url}\n                  className={classes.ctaButton}\n                  variant='body1'\n                  underline='none'\n                >\n                  {section.cta.label}\n                </Link>\n              </div>\n            </section>\n            {/* TODO : O.L : Understand the purpose of this line */}\n            {idx === translatedContent.length - 1 ? null : <hr className={classes.division} />}\n          </React.Fragment>\n        ))}\n      </article>\n    </Page>\n  );\n});\n","export const content = t => [\n  {\n    title: t('Delegators'),\n    links: [\n      // {\n      //   url: 'https://www.orbs.com/delegation-instructions-with-metamask/',\n      //   title: t('Delegating using Metamask'),\n      // },\n      // {\n      //   url: 'https://www.orbs.com/delegating-with-transfer/',\n      //   title: t('Delegating by sending 0.07 ORBS directly'),\n      // },\n      // {\n      //   url: 'https://www.orbs.com/delegating-using-mycrypto/',\n      //   title: t('Delegating using MyCrypto'),\n      // },\n      {\n        url: 'https://www.orbs.com/tetra-orbs-staking-wallet-tutorial/',\n        title: t('linkText_tetraWalletTutorial'),\n      },\n    ],\n    imageUrl: 'https://www.orbs.com/wp-content/uploads/2019/03/Orbs-Telescope.png',\n    text: t('text_delegatorDescriptionMain'),\n    text2: t('text_delegatorDescriptionTetra'),\n    cta: {\n      label: t('Delegate'),\n      url: '/delegator',\n    },\n  },\n  {\n    title: t('Guardians'),\n    links: [\n      {\n        url:\n          'https://github.com/orbs-network/orbs-ethereum-contracts/blob/master/voting/ethereum/instructions/guardian_registration.md',\n        title: t('Becoming a Guardian'),\n      },\n      {\n        url:\n          'https://github.com/orbs-network/orbs-ethereum-contracts/blob/master/voting/ethereum/instructions/vote_out.md',\n        title: t('Voting using MyCrypto'),\n      },\n    ],\n    imageUrl: 'https://www.orbs.com/wp-content/uploads/2019/03/Orbs-Voting.png',\n    text: t('Guardians Description'),\n    cta: {\n      label: t('Vote'),\n      url: '/guardian',\n    },\n  },\n  {\n    title: t('Validators'),\n    links: [\n      {\n        url:\n          'https://github.com/orbs-network/orbs-ethereum-contracts/blob/master/voting/ethereum/instructions/validator_registration.md',\n        title: t('Becoming a Validator'),\n      },\n    ],\n    imageUrl: 'https://www.orbs.com/wp-content/uploads/2019/03/Validators-Network.png',\n    text: t('Validators Description'),\n    cta: {\n      label: t('Explore'),\n      url: '/Validator',\n    },\n  },\n];\n","export const NewGuardianStyles = () => ({\n  add: {\n    marginTop: 20,\n    width: 80,\n  },\n  form: {\n    width: 400,\n  },\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { Button, FormControl, TextField } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useApi } from '../../services/ApiContext';\nimport { NewGuardianStyles } from './NewGuardian.styles';\n\nconst NewGuardianImpl = ({ classes }: { classes: any }) => {\n  const [name, setName] = useState('');\n  const [website, setWebsite] = useState('');\n  const { metamask } = useApi();\n\n  const isAddDisabled = () => !(name.length > 0 && website.length > 0);\n\n  const addGuardian = async () => {\n    if (metamask) {\n      await metamask.registerGuardian({ name, website });\n    }\n  };\n\n  const { t } = useTranslation();\n  return (\n    <>\n      <FormControl className={classes.form} variant='standard' margin='normal'>\n        <TextField\n          required\n          data-testid='name'\n          placeholder={t('Your name')}\n          value={name}\n          onChange={ev => setName(ev.target.value)}\n          margin='normal'\n          variant='standard'\n        />\n        <TextField\n          required\n          data-testid='website'\n          placeholder={t('Your website')}\n          value={website}\n          onChange={ev => setWebsite(ev.target.value)}\n          margin='normal'\n          variant='standard'\n        />\n        <Button\n          data-testid='submit'\n          className={classes.add}\n          variant='outlined'\n          color='secondary'\n          onClick={addGuardian}\n          disabled={isAddDisabled()}\n        >\n          {t('Add')}\n        </Button>\n      </FormControl>\n    </>\n  );\n};\n\nexport const NewGuardian = withStyles(NewGuardianStyles)(NewGuardianImpl);\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { Button, FormControl, TextField } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { NewValidatorStyles } from './NewValidator.styles';\nimport { useApi } from '../../services/ApiContext';\n\nconst NewValidatorImpl = ({ classes }: { classes: any }) => {\n  const [name, setName] = useState('');\n  const [website, setWebsite] = useState('');\n  const [ipAddress, setIpAddress] = useState('');\n  const [orbsAddress, setOrbsAddress] = useState('');\n  const { metamask } = useApi();\n\n  const isAddDisabled = () => [name, website, ipAddress, orbsAddress].some(attr => !attr.length);\n\n  const addValidator = async () => {\n    if (metamask) {\n      const receipt = await metamask.registerValidator({\n        name,\n        ipAddress,\n        website,\n        orbsAddress,\n      });\n    }\n  };\n\n  const { t } = useTranslation();\n  return (\n    <>\n      <FormControl className={classes.form} variant='standard' margin='normal'>\n        <TextField\n          required\n          placeholder={t('Your name')}\n          value={name}\n          onChange={ev => setName(ev.target.value)}\n          margin='normal'\n          variant='standard'\n        />\n        <TextField\n          required\n          placeholder={t('Your website')}\n          value={website}\n          onChange={ev => setWebsite(ev.target.value)}\n          margin='normal'\n          variant='standard'\n        />\n        <TextField\n          required\n          placeholder={t('Your IP Address')}\n          value={ipAddress}\n          onChange={ev => setIpAddress(ev.target.value)}\n          margin='normal'\n          variant='standard'\n        />\n        <TextField\n          required\n          placeholder={t('Your Orbs Address')}\n          value={orbsAddress}\n          onChange={ev => setOrbsAddress(ev.target.value)}\n          margin='normal'\n          variant='standard'\n        />\n        <Button\n          className={classes.add}\n          variant='outlined'\n          color='secondary'\n          onClick={addValidator}\n          disabled={isAddDisabled()}\n        >\n          {t('Add')}\n        </Button>\n      </FormControl>\n    </>\n  );\n};\n\nexport const NewValidator = withStyles(NewValidatorStyles)(NewValidatorImpl);\n","export const NewValidatorStyles = () => ({\n  add: {\n    marginTop: 20,\n    width: 80,\n  },\n  form: {\n    width: 400,\n  },\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useMemo } from 'react';\nimport { VoteChip } from '../../components/VoteChip/VoteChip';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\nimport { TStakingInfo } from './rewardsPageHooks';\nimport { TCurrentDelegationInfo } from '../../services/IRemoteService';\nimport { TableContainer, useMediaQuery } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst formatTimestamp = (timestamp) =>\n  new Date(timestamp).toLocaleString('en-gb', {\n    hour12: false,\n    timeZone: 'UTC',\n    timeZoneName: 'short',\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n  });\n\n// TODO : FUTRUE : O.L : Fix types\ninterface IProps {\n  // Props of delegator\n  delegatorAddress: string;\n  delegatorInfo: TCurrentDelegationInfo;\n  delegatorStakingInfo: TStakingInfo;\n  isAGuardian?: boolean;\n\n  // Props of Delegatee (Guardian)\n  guardianInfo: any;\n}\n\nexport const DelegationInfoTable = React.memo<IProps>((props) => {\n  const { delegatorAddress, delegatorInfo, delegatorStakingInfo, guardianInfo, isAGuardian } = props;\n\n  const { t } = useTranslation();\n\n  // DEV_NOTE : This huge memo could be broken\n  const { delegationType, delegatorBalance, delegatedTo, delegationBlockNumber, delegationTimestamp } = useMemo<{\n    delegationType: string;\n    delegatorBalance: string;\n    delegatedTo: string;\n    delegationBlockNumber: string;\n    delegationTimestamp: string;\n  }>(() => {\n    const delegatorBalance = `${(delegatorInfo.delegatorBalance || 0).toLocaleString()} ORBS`;\n    let delegatedTo: string;\n    let delegationBlockNumber: string;\n    let delegationTimestamp: string;\n\n    let delegationType = delegatorInfo.delegationType;\n\n    if (delegationType === 'Not-Delegated') {\n      // delegatorBalance = '-';\n      delegatedTo = '-';\n      delegationBlockNumber = '-';\n      delegationTimestamp = '-';\n    } else {\n      // delegatorBalance = `${(delegatorInfo.delegatorBalance || 0).toLocaleString()} ORBS`;\n      delegatedTo = delegatorInfo.delegatedTo;\n      delegationBlockNumber = (delegatorInfo.delegationBlockNumber || 0).toLocaleString();\n      delegationTimestamp =\n        delegatorInfo['delegationTimestamp'] != 0 ? formatTimestamp(delegatorInfo['delegationTimestamp']) : '--';\n    }\n\n    // DEV_NOTE : Guardians always 'delegate' to themself\n    if (isAGuardian) {\n      delegatedTo = delegatorAddress;\n      delegationBlockNumber = '-';\n      delegationTimestamp = '-';\n      delegationType = 'Self (Guardian)';\n    }\n\n    return {\n      delegationType,\n      delegatorBalance,\n      delegatedTo,\n      delegationBlockNumber,\n      delegationTimestamp,\n    };\n  }, [delegatorAddress, delegatorInfo, isAGuardian]);\n\n  // DEV_NOTE : This is a hack to mamk the \"table\" looks better with all of\n  //            the content visible in mobile (without the need to scroll for) because of the\n  //            long address.\n  const theme = useTheme();\n  const smallerThanSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  const contentCellAlignment = smallerThanSmall ? 'left' : 'right';\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell>{t('Delegated To')}</TableCell>\n            <TableCell align='right'>\n              <Typography\n                noWrap\n                style={{\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap',\n                  overflow: 'hidden',\n                }}\n              >\n                {delegatedTo}\n              </Typography>\n            </TableCell>\n            {/*<TableCell align='right'></TableCell>*/}\n          </TableRow>\n          <TableRow>\n            <TableCell>{t(`delegatorNonStakedOrbs`)}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegatorBalance}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t(`delegatorStakedOrbs`)}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegatorStakingInfo.stakedOrbs?.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Guardian voted in previous elections')}</TableCell>\n            <TableCell align={contentCellAlignment}>\n              {guardianInfo.voted === true || guardianInfo.voted === false ? (\n                <VoteChip value={guardianInfo.voted} />\n              ) : (\n                '-'\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Guardian voted for next elections')}</TableCell>\n            <TableCell align={contentCellAlignment}>\n              {guardianInfo.hasEligibleVote === true || guardianInfo.hasEligibleVote === false ? (\n                <VoteChip value={guardianInfo.hasEligibleVote} />\n              ) : (\n                '-'\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Delegation method')}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegationType}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Delegation block number')}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegationBlockNumber}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Delegation timestamp')}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegationTimestamp}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport { useTranslation } from 'react-i18next';\nimport { TRewardsSummary } from '../../services/IRemoteService';\n\ninterface IProps {\n  rewardsSummary: TRewardsSummary;\n}\n// TODO : O.L : This table is \"responsive\" due to having little details, make it really responsive.\n\nexport const RewardsTable = React.memo<IProps>((props) => {\n  const { rewardsSummary } = props;\n  const { t } = useTranslation();\n  const { delegatorReward = 0, guardianReward = 0, validatorReward = 0 } = rewardsSummary;\n  const totalReward = delegatorReward + guardianReward + validatorReward;\n  return (\n    <Table>\n      <TableBody>\n        <TableRow>\n          <TableCell>{t('Delegator Reward')}</TableCell>\n          <TableCell align='right'>{delegatorReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{t('Guardian Excellency Reward')}</TableCell>\n          <TableCell align='right'>{guardianReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{t('Validator Reward')}</TableCell>\n          <TableCell align='right'>{validatorReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n      </TableBody>\n      <TableFooter>\n        <TableRow>\n          <TableCell>{t('Total Reward')}</TableCell>\n          <TableCell align='right'>{totalReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n      </TableFooter>\n    </Table>\n  );\n});\n","import web3 from 'web3';\n\nexport function fullOrbsFromWeiOrbs(weiOrbs: bigint): number {\n  return parseInt(web3.utils.fromWei(weiOrbs.toString(), 'ether'));\n}\n\nexport function weiOrbsFromFullOrbs(fullOrbs: number): bigint {\n  return BigInt(web3.utils.toWei(fullOrbs.toString(), 'ether'));\n}\n","import React from 'react';\nimport { MobXProviderContext } from 'mobx-react';\nimport { IGuardiansService, IOrbsRewardsService, IStakingService } from 'orbs-pos-data';\nimport { IServices } from './Services';\nimport { IRemoteService } from './IRemoteService';\nimport { IMetamask } from './IMetamask';\n\nexport function useServices(): IServices {\n  return React.useContext(MobXProviderContext) as IServices;\n}\n\nexport function useGuardiansService(): IGuardiansService {\n  return useServices().guardiansService;\n}\n\nexport function useRemoteService(): IRemoteService {\n  return useServices().remoteService;\n}\n\nexport function useMetaMaskService(): IMetamask | undefined {\n  return useServices().metamask;\n}\n\nexport function useStakingService(): IStakingService {\n  return useServices().stakingService;\n}\n\nexport function useOrbsRewardsServiceService(): IOrbsRewardsService {\n  return useServices().orbsRewardsService;\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport {\n  IGuardianInfo,\n  IGuardiansService,\n  IOrbsRewardsService,\n  IRewardsDistributionEvent,\n  IStakingService,\n} from 'orbs-pos-data';\nimport { useEffect } from 'react';\nimport { useBoolean, useStateful } from 'react-hanger';\nimport { useApi } from '../../services/ApiContext';\nimport { IRemoteService, TCurrentDelegationInfo, TRewardsSummary } from '../../services/IRemoteService';\nimport { fullOrbsFromWeiOrbs } from '../../cryptoUtils/unitConverter';\nimport { IGuardianData } from '../../services/IGuardianData';\nimport { useGuardiansStore } from '../../Store/storeHooks';\nimport { useGuardiansService } from '../../services/ServicesHooks';\n\nexport type TStakingInfo = {\n  stakedOrbs: number;\n};\n\nexport type TCompleteAddressInfoForRewardsPage = {\n  hasActiveDelegation: boolean;\n  delegatingToValidGuardian: boolean;\n  delegatorInfo: TCurrentDelegationInfo;\n  guardianInfo?: IGuardianInfo;\n  stakingInfo: TStakingInfo;\n  rewardsSummary: TRewardsSummary;\n  distributionsHistory: IRewardsDistributionEvent[];\n};\n\nconst emptyObject: TCompleteAddressInfoForRewardsPage = {\n  distributionsHistory: [],\n  delegatorInfo: {\n    delegatedTo: '',\n    delegationBlockNumber: 0,\n    delegationTimestamp: 0,\n    delegationType: '',\n    delegatorBalance: 0,\n  },\n  hasActiveDelegation: false,\n  delegatingToValidGuardian: false,\n  stakingInfo: {\n    stakedOrbs: 0,\n  },\n  guardianInfo: {\n    website: '',\n    hasEligibleVote: false,\n    name: '',\n    stakePercent: 0,\n    voted: false,\n  },\n  rewardsSummary: {\n    validatorReward: 0,\n    guardianReward: 0,\n    delegatorReward: 0,\n  },\n};\n\nexport type TUseCompleteAddressInfoForRewardsPage = (\n  address?: string,\n) => { addressData: TCompleteAddressInfoForRewardsPage; errorLoading: boolean };\n\nexport const useCompleteAddressInfoForRewardsPage: TUseCompleteAddressInfoForRewardsPage = (address) => {\n  const errorLoading = useBoolean(false);\n  const addressData = useStateful<TCompleteAddressInfoForRewardsPage>(emptyObject);\n  const guardianService = useGuardiansService();\n  const guardiansStore = useGuardiansStore();\n\n  const { orbsRewardsService, remoteService, stakingService } = useApi();\n\n  useEffect(() => {\n    if (address) {\n      readCompleteDataForAddress(\n        address,\n        orbsRewardsService,\n        remoteService,\n        stakingService,\n        guardianService,\n        guardiansStore.guardiansAddresses,\n      )\n        .then(addressData.setValue)\n        .catch(errorLoading.setTrue);\n    }\n  }, [\n    address,\n    addressData.setValue,\n    errorLoading.setTrue,\n    guardianService,\n    guardiansStore.guardiansAddresses,\n    orbsRewardsService,\n    remoteService,\n    stakingService,\n  ]);\n\n  if (!address) {\n    return {\n      addressData: emptyObject,\n      errorLoading: false,\n    };\n  }\n\n  return {\n    addressData: addressData.value,\n    errorLoading: errorLoading.value,\n  };\n};\n\nconst fetchRewardsHistory = async (address: string, orbsRewardsService: IOrbsRewardsService) => {\n  return await orbsRewardsService.readRewardsDistributionsHistory(address);\n};\n\nconst fetchDelegationAndGuardianInfo = async (\n  address: string,\n  remoteService: IRemoteService,\n  guardiansService: IGuardiansService,\n  validGuardianAddresses: string[],\n) => {\n  const delegatorInfo = await remoteService.getCurrentDelegationInfo(address);\n  // Initialize with empty data\n  let guardianInfo: IGuardianInfo = {\n    website: '',\n    hasEligibleVote: false,\n    name: '',\n    stakePercent: 0,\n    voted: false,\n  };\n  let hasActiveDelegation: boolean;\n  let delegatingToValidGuardian = false;\n\n  if (delegatorInfo.delegationType === 'Not-Delegated') {\n    hasActiveDelegation = false;\n  } else {\n    const guardianAddress = delegatorInfo.delegatedTo;\n\n    // DEV_NOTE : O.L : This check was added after an edge case where a delegator was found delegating to a Guardian that\n    //                  has left.\n    delegatingToValidGuardian = validGuardianAddresses.includes(guardianAddress.toLowerCase());\n\n    if (delegatingToValidGuardian) {\n      try {\n        guardianInfo = await guardiansService.readGuardianInfo(delegatorInfo.delegatedTo);\n      } catch (e) {\n        console.warn(`Failed reading guardian {${delegatorInfo.delegatedTo} info`);\n      }\n    } else {\n      console.warn(`Delegating to a non-guardian address of ${guardianAddress}`);\n    }\n\n    hasActiveDelegation = true;\n  }\n\n  return { delegatorInfo, guardianInfo, hasActiveDelegation, delegatingToValidGuardian };\n};\n\nconst fetchStakingInfo = async (address: string, stakingService: IStakingService) => {\n  const stakedOrbsInWeiOrbs = await stakingService.readStakeBalanceOf(address);\n  const fullStakedOrbs = fullOrbsFromWeiOrbs(stakedOrbsInWeiOrbs);\n  return {\n    stakedOrbs: fullStakedOrbs,\n  };\n};\n\nconst fetchRewardsSummary = async (address: string, remoteService: IRemoteService) => {\n  const rewardsSummary = await remoteService.getRewards(address);\n  return rewardsSummary;\n};\n\nconst readCompleteDataForAddress = async (\n  address: string,\n  orbsRewardsService: IOrbsRewardsService,\n  remoteService: IRemoteService,\n  stakingService: IStakingService,\n  guardiansService: IGuardiansService,\n  validGuardianAddresses: string[],\n) => {\n  const rewardsHistory = await fetchRewardsHistory(address, orbsRewardsService);\n  const delegationAndGuardianInfo = await fetchDelegationAndGuardianInfo(\n    address,\n    remoteService,\n    guardiansService,\n    validGuardianAddresses,\n  );\n  const stakingInfo = await fetchStakingInfo(address, stakingService);\n  const rewardsSummary = await fetchRewardsSummary(address, remoteService);\n\n  const { hasActiveDelegation, guardianInfo, delegatorInfo, delegatingToValidGuardian } = delegationAndGuardianInfo;\n\n  const addressData: TCompleteAddressInfoForRewardsPage = {\n    distributionsHistory: rewardsHistory,\n    delegatorInfo,\n    guardianInfo,\n    hasActiveDelegation,\n    delegatingToValidGuardian,\n    stakingInfo,\n    rewardsSummary,\n  };\n\n  return addressData;\n};\n","import React, { DetailedHTMLProps } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface IProps {}\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n    justifyItems: 'center',\n  },\n}));\n\ntype TSectionProps = DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n\nexport const PageSection = React.memo<IProps & TSectionProps>((props) => {\n  const { children, ...others } = props;\n  return <section {...others}>{children}</section>;\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useMemo } from 'react';\nimport MaterialTable, { Column, MTableBody } from 'material-table';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport { useTranslation } from 'react-i18next';\nimport { TableHead, Typography } from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\nimport { IRewardsDistributionEvent } from 'orbs-pos-data';\nimport { fullOrbsFromWeiOrbs } from '../../cryptoUtils/unitConverter';\nimport { TABLE_ICONS } from '../../components/tables/TableIcons';\n\ninterface IProps {\n  distributionsHistory: IRewardsDistributionEvent[];\n}\n\nexport const RewardsHistoryTable = React.memo<IProps>((props) => {\n  const { t } = useTranslation();\n  const { distributionsHistory } = props;\n\n  const totalAmount = distributionsHistory.reduce((prev, cur) => {\n    const fullOrbs = fullOrbsFromWeiOrbs(cur.amount);\n    return prev + fullOrbs;\n  }, 0);\n\n  const COLUMNS = useMemo<Column<IRewardsDistributionEvent>[]>(() => {\n    return [\n      {\n        title: t('Distribution Event'),\n        field: 'distributionEvent',\n        align: 'left',\n        type: 'string',\n        width: 'min-content',\n      },\n      {\n        title: t('Transaction Hash'),\n        field: 'transactionHash',\n        render: (data, type) => {\n          return (\n            <Link\n              color='secondary'\n              target='_blank'\n              rel='noopener'\n              href={`https://etherscan.io/tx/${data.transactionHash}`}\n            >\n              {data.transactionHash}\n            </Link>\n          );\n        },\n      },\n      {\n        title: t('Amount'),\n        align: 'right',\n        width: 'min-content',\n        field: 'amount',\n        render: (data, type) => {\n          const amount = data.amount ? fullOrbsFromWeiOrbs(data.amount) : 0;\n          return `${amount.toLocaleString()} ORBS`;\n        },\n      },\n    ];\n  }, [t]);\n\n  return (\n    <MaterialTable\n      components={{\n        //  DEV_NOTE : Remove 'Paper'\n        Container: (containerProps) => containerProps.children,\n        // DEV_NOTE : Allows footer\n        Body: (props) => (\n          <>\n            <MTableBody {...props} />\n            <TableFooter style={{ width: '100%' }}>\n              <TableRow>\n                <TableCell>{t('Total Distributed')}</TableCell>\n                <TableCell />\n                <TableCell align='right'>{(totalAmount || 0).toLocaleString()} ORBS</TableCell>\n              </TableRow>\n            </TableFooter>\n          </>\n        ),\n      }}\n      style={{ backgroundColor: 'rgba(0,0,0, 0)' }}\n      icons={TABLE_ICONS}\n      columns={COLUMNS}\n      data={distributionsHistory}\n      options={{\n        headerStyle: {\n          backgroundColor: 'rgba(0,0,0,0)',\n        },\n        search: false,\n        showTitle: false,\n        paging: false,\n      }}\n    />\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport { useBoolean } from 'react-hanger';\nimport { useTranslation } from 'react-i18next';\nimport { useApi } from '../../services/ApiContext';\nimport { DelegationInfoTable } from './DelegationInfoTable';\nimport { RewardsTable } from './RewardsTable';\nimport { useQueryParam, StringParam } from 'use-query-params';\nimport { renderToString } from 'react-dom/server';\nimport { useCompleteAddressInfoForRewardsPage } from './rewardsPageHooks';\nimport { observer } from 'mobx-react';\nimport { useGuardiansStore } from '../../Store/storeHooks';\nimport { Page } from '../../components/structure/Page';\nimport { PageSection } from '../../components/structure/PageSection';\nimport { RewardsHistoryTable } from './RewardsHistoryTable';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    // width: '60%',\n  },\n  input: {\n    width: '30rem',\n    // flexGrow: 1,\n  },\n  submit: {\n    // marginLeft: 30,\n  },\n  section: {\n    marginTop: `${theme.spacing(8)}px`,\n  },\n  alert: {\n    maxWidth: '100%',\n  },\n}));\n\nconst EMPTY_ADDRESS = '0x0000000000000000000000000000000000000000';\n\n// TODO : C.F.H : We need to have the unstaked orbs balance (now, if thee address has no delgation, we will not get its balance neither)\n//  and then, we can add a flag of 'hasOrbs'\n\n// TODO : FUTURE : O.L : This type should be defined and taken from\n//  DEV_NOTE : There might be more possible values (for now we are just interested in whether it is delegated or not)\ntype TDelegationTypes = 'Not-Delegated' | 'Transfer';\nconst NOT_DELEGATED: TDelegationTypes = 'Not-Delegated';\n\nexport const RewardsPage = observer<React.FunctionComponent>(() => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const guardiansStore = useGuardiansStore();\n\n  // Display flags\n  const showNoSelectedGuardianError = useBoolean(false);\n  const showDelegatingToANonGuardianAlert = useBoolean(false);\n  const showAddressNotParticipatingAlert = useBoolean(false);\n\n  // Api service, should be removed\n  const { remoteService } = useApi();\n\n  // Page state\n  const [queryAddress, setQueryAddress] = useQueryParam('address', StringParam);\n\n  // Account in question state\n  const isGuardian = guardiansStore.isGuardian(queryAddress || '');\n\n  // Form state & functions\n  const [formAddress, setFormAddress] = useState('');\n  const submitHandler = useCallback(async () => {\n    setQueryAddress(formAddress, 'pushIn');\n  }, [setQueryAddress, formAddress]);\n\n  // General Eco-system state & functions\n  const [electionBlock, setElectionBlock] = useState('0');\n  const fetchEffectiveElectionBlock = useCallback(\n    () => remoteService.getEffectiveElectionBlockNumber().then(setElectionBlock),\n    [remoteService],\n  );\n\n  // Account specific State\n  const completeAddressData = useCompleteAddressInfoForRewardsPage(queryAddress);\n\n  // Updates the form's address and the effective election block when query-address change\n  useEffect(() => {\n    async function asyncInnerFunction() {\n      await fetchEffectiveElectionBlock();\n\n      if (!queryAddress) {\n        return;\n      }\n\n      setFormAddress(queryAddress);\n    }\n\n    asyncInnerFunction();\n  }, [fetchEffectiveElectionBlock, queryAddress]);\n\n  const { addressData, errorLoading } = completeAddressData;\n  const {\n    stakingInfo,\n    distributionsHistory,\n    rewardsSummary,\n    delegatorInfo,\n    guardianInfo,\n    hasActiveDelegation,\n    delegatingToValidGuardian,\n  } = addressData;\n  const relevantGuardianInfo = isGuardian\n    ? guardiansStore.guardiansList.find((g) => g.address.toLowerCase() === queryAddress?.toLowerCase())\n    : guardianInfo;\n\n  const hasUnstakedOrbs = delegatorInfo.delegatorBalance > 0;\n  const hasStakedOrbs = stakingInfo.stakedOrbs > 0;\n  // DEV_NOTE : 'delegatorStakingInfo' requires being on the right network, 'delegatorInfo' does not, so for now we\n  //             will use them both as our flag\n  // const isDelegatedGuardianAddressValidByStakingInfo = stakingInfo.selectedGuardianAddress !== EMPTY_ADDRESS;\n  const isDelegatedGuardianAddressValidByDelegatorInfo = delegatorInfo.delegatedTo !== EMPTY_ADDRESS;\n  const isDelegatedGuardianAddressValid =\n    // isDelegatedGuardianAddressValidByStakingInfo || isDelegatedGuardianAddressValidByDelegatorInfo;\n    isDelegatedGuardianAddressValidByDelegatorInfo;\n\n  const hasDelegatedGuardian = delegatorInfo.delegationType !== NOT_DELEGATED;\n\n  const hasAddress = !!queryAddress;\n  const hasSelectedGuardian = hasDelegatedGuardian && isDelegatedGuardianAddressValid;\n  const isActiveInStaking = hasStakedOrbs && hasSelectedGuardian;\n\n  // Checks if any alerts should be displayed\n  useEffect(() => {\n    if (!hasAddress) {\n      showNoSelectedGuardianError.setFalse();\n      showAddressNotParticipatingAlert.setFalse();\n\n      return;\n    }\n\n    // DEV_NOTE : O.L :  Guardians always have themselves as their selected Guardian.\n    // Do we have staked ORBS but no guardian selected ?\n    if (!isGuardian && hasStakedOrbs && !hasSelectedGuardian) {\n      showNoSelectedGuardianError.setTrue();\n    } else {\n      showNoSelectedGuardianError.setFalse();\n    }\n\n    // Do we have a selected guardian but we are not staking yet ?\n    if (!hasStakedOrbs && hasUnstakedOrbs) {\n      showAddressNotParticipatingAlert.setTrue();\n    } else {\n      showAddressNotParticipatingAlert.setFalse();\n    }\n\n    // Do we have d delegation to someone who is not a guardian ?\n    if (hasActiveDelegation && !delegatingToValidGuardian) {\n      showDelegatingToANonGuardianAlert.setTrue();\n    } else {\n      showDelegatingToANonGuardianAlert.setFalse();\n    }\n  }, [\n    showNoSelectedGuardianError,\n    showAddressNotParticipatingAlert,\n    hasAddress,\n    hasStakedOrbs,\n    hasSelectedGuardian,\n    hasUnstakedOrbs,\n    isGuardian,\n    hasActiveDelegation,\n    delegatingToValidGuardian,\n    showDelegatingToANonGuardianAlert,\n  ]);\n\n  const tetraUrl = 'https://staking.orbs.network';\n  const tetraV1Url = 'https://staking-v1.orbs.network';\n\n  // TODO : Find a better way to combine the translations with changing order links\n  const goToTetraLinkInnerHtml = t('action_goToTetra', {\n    tetraLink: renderToString(\n      <a style={{ color: 'inherit' }} target={'_blank'} rel={'noopener noreferrer'} href={tetraUrl}>\n        {t('text_tetraName')}\n      </a>,\n    ),\n  });\n\n  const stakeAndDelegateWithTetraLinkInnerHtml = t('action_youCanStakeYourORBSAndSelectAGuardianWithTetra', {\n    tetraLink: renderToString(\n      <a style={{ color: 'inherit' }} target={'_blank'} rel={'noopener noreferrer'} href={tetraUrl}>\n        {t('text_tetraName')}\n      </a>,\n    ),\n  });\n\n  const toChangeDelegationPleaseUseTetraV1InnerHtml = t('message_toChangeDelegationsUseV1Tetra', {\n    tetraLink: renderToString(\n      <a\n        style={{ color: theme.palette.secondary.main }}\n        target={'_blank'}\n        rel={'noopener noreferrer'}\n        href={tetraV1Url}\n      >\n        {t('concept_tetraV1')}\n      </a>,\n    ),\n  });\n\n  // TODO : O.L : RESP : ADWR : Fix alignment.\n  // TODO : O.L : RESP : ADWR : Fix dimension-shifting-after-data-load.\n\n  return (\n    <Page>\n      {/* Title & input */}\n      <PageSection>\n        <Typography variant='h2' component='h2' gutterBottom color='textPrimary'>\n          {t('Rewards & Delegation Info')}\n        </Typography>\n        {/* TODO : O.L : We might want to add a UX indicator that the account is a guardian */}\n        <FormControl className={classes.form} variant='standard' margin='normal'>\n          <TextField\n            required\n            className={classes.input}\n            placeholder={t('Enter the address')}\n            value={formAddress}\n            onChange={(ev) => setFormAddress(ev.target.value)}\n            label={'Address'}\n            margin='normal'\n            variant='standard'\n          />\n          <div className={classes.submit}>\n            <Button onClick={submitHandler} variant='outlined'>\n              {t('Submit')}\n            </Button>\n          </div>\n        </FormControl>\n      </PageSection>\n\n      {showNoSelectedGuardianError.value && (\n        <Alert className={classes.alert} severity='error'>\n          <Typography>{t('alert_stakingWithoutGuardian')}</Typography> <br /> <br />{' '}\n          <Typography dangerouslySetInnerHTML={{ __html: stakeAndDelegateWithTetraLinkInnerHtml }} />\n        </Alert>\n      )}\n\n      {showDelegatingToANonGuardianAlert.value && (\n        <Alert className={classes.alert} severity='error'>\n          <Typography>{t('alert_delegatingToNonGuardian')}</Typography> <br /> <br />{' '}\n          <Typography dangerouslySetInnerHTML={{ __html: stakeAndDelegateWithTetraLinkInnerHtml }} />\n        </Alert>\n      )}\n\n      {showAddressNotParticipatingAlert.value && (\n        <Alert className={classes.alert} severity='info'>\n          <Typography>{t('alert_notParticipating')}</Typography> <br /> <br />{' '}\n          <Typography dangerouslySetInnerHTML={{ __html: stakeAndDelegateWithTetraLinkInnerHtml }} />\n        </Alert>\n      )}\n\n      <br />\n\n      <PageSection>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {t('Rewards')}\n        </Typography>\n        <RewardsTable rewardsSummary={rewardsSummary} />\n      </PageSection>\n\n      <br />\n\n      <PageSection>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {t('Distributed')}\n        </Typography>\n        <br />\n        <RewardsHistoryTable distributionsHistory={distributionsHistory} />\n      </PageSection>\n\n      <br />\n\n      {/* TODO : Add a new section that is aimed for Guardians */}\n      <PageSection>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {t('Delegation Details')}\n          {' - '}\n          {t('message_orbsWillTransitionToV2On')}\n        </Typography>\n        <Typography\n          variant='h6'\n          component='h4'\n          gutterBottom\n          color='textPrimary'\n          dangerouslySetInnerHTML={{ __html: toChangeDelegationPleaseUseTetraV1InnerHtml }}\n        />\n        <DelegationInfoTable\n          delegatorAddress={queryAddress || ''}\n          delegatorStakingInfo={stakingInfo}\n          delegatorInfo={delegatorInfo}\n          guardianInfo={relevantGuardianInfo}\n          isAGuardian={isGuardian}\n        />\n      </PageSection>\n\n      <br />\n      <section className={classes.section}>\n        <Typography display={'inline'} variant='subtitle1' color='textSecondary'>\n          {'* '}\n          {t('The information above corresponds to elections at block number')}\n          {': '}\n        </Typography>\n        <Typography display={'inline'} variant='subtitle1' color='secondary'>\n          {parseInt(electionBlock, 10).toLocaleString()}\n        </Typography>\n      </section>\n    </Page>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useMemo } from 'react';\nimport Table from '@material-ui/core/Table';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport { IElectedValidatorData } from '../../services/IValidatorData';\nimport { CopyAddressButton } from '../../components/CopyAddressButton/CopyAddressButton';\nimport { Column } from 'material-table';\nimport { TGuardianInfoExtended } from '../../Store/GuardiansStore';\nimport { CommonTable } from '../../components/tables/CommonTable';\n\nexport interface IElectedValidatorDataWithAddress extends IElectedValidatorData {\n  ethereumAddress: string;\n}\n\nconst styles = () => ({\n  table: {\n    tableLayout: 'fixed' as any,\n  },\n  cell: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n});\n\ninterface IProps {\n  validators: Array<IElectedValidatorDataWithAddress>;\n  shouldSort?: boolean;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    tableLayout: 'fixed' as any,\n  },\n  cell: {\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n}));\n\nexport const ValidatorsList = React.memo<IProps>((props) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { shouldSort, validators } = props;\n\n  const validatorsInOrder = useMemo(() => {\n    const validatorsClone = [...validators];\n\n    if (shouldSort) {\n      return validatorsClone.sort((a, b) => b.stake - a.stake);\n    } else {\n      return validatorsClone;\n    }\n  }, [shouldSort, validators]);\n\n  const COLUMNS = useMemo<Column<IElectedValidatorDataWithAddress>[]>(() => {\n    return [\n      {\n        title: t('Name'),\n        field: 'name',\n        width: 'fit-content',\n      },\n      {\n        type: 'boolean',\n        sorting: false,\n        cellStyle: { padding: 0 },\n        render: (validator) => <CopyAddressButton address={validator.ethereumAddress} />,\n      },\n      {\n        title: t('Ethereum Address'),\n        field: 'ethereumAddress',\n        render: (validator) => (\n          <Tooltip title={validator.ethereumAddress} placement='top-start' enterDelay={200}>\n            <span>{validator.ethereumAddress}</span>\n          </Tooltip>\n        ),\n      },\n      {\n        type: 'boolean',\n        sorting: false,\n        cellStyle: { padding: 0 },\n        render: (validator) => <CopyAddressButton address={validator.orbsAddress} />,\n      },\n      {\n        title: t('Orbs Address'),\n        field: 'orbsAddress',\n      },\n      {\n        title: t('Stake'),\n        field: 'stake',\n        render: (validator) => `${validator.stake.toLocaleString()} ORBS`,\n      },\n    ];\n  }, [t]);\n\n  return <CommonTable data={validatorsInOrder} columns={COLUMNS} />;\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { useApi } from '../../services/ApiContext';\nimport { IElectedValidatorDataWithAddress, ValidatorsList } from './ValidatorsList';\nimport { IElectedValidatorData } from '../../services/IValidatorData';\n\nconst styles = () => ({});\n\nconst ValidatorsPageImpl = ({ classes }: { classes: any }) => {\n  const [selectedValidatorsDataList, setSelectedValidatorsDataList] = useState<Array<IElectedValidatorDataWithAddress>>(\n    [],\n  );\n  const { remoteService, metamask } = useApi();\n\n  const readAndAugmentElectedValidatorData = useCallback(\n    async (address: string) => {\n      const electedValidatorData = await remoteService.getElectedValidatorData(address);\n\n      const electedValidatorDataWithAddress: IElectedValidatorDataWithAddress = {\n        ...electedValidatorData,\n        ethereumAddress: address,\n      };\n\n      return electedValidatorDataWithAddress;\n    },\n    [remoteService],\n  );\n\n  const readValidatorsData = useCallback(\n    async (addresses: Array<string>) => {\n      const promises = addresses.map((address) => readAndAugmentElectedValidatorData(address));\n\n      const electedValidatorData = await Promise.all(promises);\n\n      return electedValidatorData;\n    },\n    [readAndAugmentElectedValidatorData],\n  );\n\n  const fetchElectedValidators = useCallback(async () => {\n    const addresses = await remoteService.getElectedValidators();\n    const validatorsData = await readValidatorsData(addresses);\n\n    setSelectedValidatorsDataList(validatorsData);\n  }, [remoteService, readValidatorsData]);\n\n  // Runs once on component load\n  useEffect(() => {\n    fetchElectedValidators();\n  }, [fetchElectedValidators]);\n\n  const { t } = useTranslation();\n  return (\n    <>\n      <Typography variant='h2' component='h2' gutterBottom color='textPrimary'>\n        {t('Elected Validators')}\n      </Typography>\n\n      {metamask && (\n        <Link to='/validator/new'>\n          <Typography variant='overline' color='textSecondary'>\n            {t('Become a validator')}\n          </Typography>\n        </Link>\n      )}\n\n      <ValidatorsList validators={selectedValidatorsDataList} shouldSort />\n    </>\n  );\n};\n\nexport const ValidatorsPage = withStyles(styles)(ValidatorsPageImpl);\n","import { useApi } from '../../services/ApiContext';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport { Button } from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\n\nconst actionBuilder = (closeSnackbar: (snackbarKey: any) => void) => (key: any) => (\n  <>\n    <Link href='https://metamask.io' target='_blank' rel='noreferrer'>\n      <b>Install Metamask</b>\n    </Link>\n    <Button onClick={() => closeSnackbar(key)}>X</Button>\n  </>\n);\n\nexport const useNoMetaMaskSnackbar = () => {\n  const { metamask } = useApi();\n  const hasMetamask = useMemo(() => !!metamask, [metamask]);\n  const [isNoMetamaskBannerOpen, setIsMetamaskBannerOpen] = useState(!hasMetamask);\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (isNoMetamaskBannerOpen) {\n      enqueueSnackbar(\n        'Attention! You are in Read Only mode. Please, install MetaMask extension to unlock full functionality.',\n        {\n          autoHideDuration: null,\n          variant: 'warning',\n          action: actionBuilder(closeSnackbar),\n        },\n      );\n    }\n  }, [closeSnackbar, enqueueSnackbar, isNoMetamaskBannerOpen]);\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { DelegatorsPage } from '../../pages/DelegatorsPage/DelegatorsPage';\nimport { GuardiansPage } from '../Guardrians/GuardiansPage';\nimport { Home } from '../Home/Home';\nimport { NewGuardian } from '../NewGuardian/NewGuardian';\nimport { NewValidator } from '../NewValidator/NewValidator';\nimport { RewardsPage } from '../../pages/RewardsPage/RewardsPage';\nimport { ValidatorsPage } from '../../pages/ValidatorsPage/ValidatorsPage';\nimport { useNoMetaMaskSnackbar } from '../ReadOnlyBanner/readOnlyBannerHooks';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    // flexGrow: 1,\n    maxWidth: '90%',\n    boxSizing: 'border-box',\n    padding: theme.spacing(1),\n    // overflow: 'hidden',\n  },\n}));\n\nexport const Main = React.memo((props) => {\n  const classes = useStyles();\n  useNoMetaMaskSnackbar();\n  return (\n    <main className={classes.content} data-testid='main'>\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route exact path='/delegator' component={(props: RouteProps) => <DelegatorsPage />} />\n        <Route exact path='/guardian' component={(props: RouteProps) => <GuardiansPage {...props} />} />\n        <Route exact path='/validator' component={(props: RouteProps) => <ValidatorsPage {...props} />} />\n        <Route exact path='/reward' component={(props: RouteProps) => <RewardsPage {...props} />} />\n        <Route exact path='/guardian/new' component={(props: RouteProps) => <NewGuardian {...props} />} />\n        <Route exact path='/validator/new' component={(props: RouteProps) => <NewValidator {...props} />} />\n      </Switch>\n    </main>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { QueryParamProvider } from 'use-query-params';\nimport { Route } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LangRouter } from '../multi-lang/LangRouter';\nimport { resources } from '../../translations';\nimport { Header } from '../Header/Header';\nimport { Main } from '../Main/Main';\nimport { HEADER_HEIGHT_REM, ThemeProvider } from './ThemeProvider';\nimport { useNoMetaMaskSnackbar } from '../ReadOnlyBanner/readOnlyBannerHooks';\nimport { SnackbarProvider } from 'notistack';\n\nconst useStyles = makeStyles((theme) => ({\n  rootApp: {\n    backgroundColor: '#06142e',\n    backgroundRepeat: 'repeat-y',\n    backgroundImage: 'url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)',\n    backgroundAttachment: 'scroll',\n    backgroundPosition: 'top center',\n    minHeight: `calc(100% - ${HEADER_HEIGHT_REM}rem)`,\n\n    // Center the content\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  headerSeparator: {\n    height: `${HEADER_HEIGHT_REM}rem`,\n  },\n  glass: {\n    backgroundColor: 'black',\n    width: '100%',\n    height: '100%',\n    opacity: 0.7,\n    zIndex: 100000,\n    position: 'absolute' as any,\n    top: 0,\n    left: 0,\n  },\n  glassLabel: {\n    width: '100%',\n    height: '100%',\n    zIndex: 100001,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute' as any,\n    top: 0,\n    left: 0,\n  },\n  blurred: {\n    filter: 'blur(2px)',\n  },\n}));\n\nexport const App = React.memo((props) => {\n  const classes = useStyles();\n\n  return (\n    <LangRouter preLangBasename={process.env.PUBLIC_URL} resources={resources}>\n      <QueryParamProvider ReactRouterRoute={Route}>\n        <ThemeProvider>\n          <SnackbarProvider maxSnack={3}>\n            <CssBaseline />\n            <Header />\n            <div className={classes.headerSeparator} />\n            <div className={classes.rootApp} data-testid='container'>\n              <Main />\n            </div>\n          </SnackbarProvider>\n        </ThemeProvider>\n      </QueryParamProvider>\n    </LangRouter>\n  );\n});\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { IOrbsPosContractsAddresses } from 'orbs-pos-data';\n\n/**\n * Copyright 2019 the staking-dashboard authors\n * This file is part of the staking-dashboard library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\nconst IS_DEV =\n  // @ts-ignore\n  process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'staging' && !process.env.REACT_APP_FORCE_PROD;\n\n////////////// CONFIG VARIABLES ///////////////\n\n// Remote endpoint\nconst orbsAuditNodeEndpoint_dev = 'http://localhost:5678/api';\nconst orbsAuditNodeEndpoint_prod = 'https://orbs-voting-proxy-server.herokuapp.com/api';\n\n///////////////////////////////////////////////\n\nexport interface IConfig {\n  orbsAuditNodeEndpoint: string;\n  ETHEREUM_PROVIDER_WS: string;\n  contractsAddressesOverride: Partial<IOrbsPosContractsAddresses & { stakingContract: string }> | undefined;\n  earliestBlockForDelegationOverride?: number;\n}\n\nconst contractsAddressesOverride: Partial<IOrbsPosContractsAddresses & { stakingContract: string }> | undefined = IS_DEV\n  ? {\n      stakingContract: '0x88287444f10709f9531D11e08DCd692deccd1d63', // ROPSTEN\n      erc20Contract: '0xeD0Aa9A4F9e5ae9092994f4B86F6AAa89944939b', // ROPSTEN\n      guardiansContract: '0x636315bcD912B1DbFe38E6b75f5B6AEE4Cd63B30', // ROPSTEN\n      votingContract: '0xF90a738CA659Fe99E357cB7F47Aaa5cB9b5724a2', // ROPSTEN\n    }\n  : undefined;\n\nconst configsObject: IConfig = {\n  orbsAuditNodeEndpoint: IS_DEV ? orbsAuditNodeEndpoint_dev : orbsAuditNodeEndpoint_prod,\n  ETHEREUM_PROVIDER_WS: 'wss://mainnet.infura.io/ws/v3/3fe9b03bd8374639809addf2164f7287',\n  contractsAddressesOverride,\n  // Only override in dev\n  earliestBlockForDelegationOverride: IS_DEV ? 0 : undefined,\n};\n\nexport const configs: IConfig = configsObject;\n","import { observable, action, reaction, IReactionDisposer, computed, toJS, IObservableArray } from 'mobx';\n\nimport { IOrbsPOSDataService, IGuardianInfo, IGuardiansService } from 'orbs-pos-data';\nimport { PromiEvent, TransactionReceipt } from 'web3-core';\nimport { normalizeUrl } from '../services/urls';\n\nexport type TGuardianInfoExtended = IGuardianInfo & { address: string };\n\nexport interface IGuardiansStoreState {\n  guardiansList: TGuardianInfoExtended[];\n  totalParticipatingTokens: bigint;\n}\n\nexport type TGuardiansStore = IGuardiansStoreState;\n\nexport class GuardiansStore {\n  @observable public doneLoading = false;\n  @observable public errorLoading = false;\n  @observable public guardiansList: IObservableArray<TGuardianInfoExtended> = observable([]);\n\n  @computed get guardiansAddresses(): string[] {\n    return this.guardiansList.map((g) => g.address.toLowerCase());\n  }\n\n  public isGuardian(address: string): boolean {\n    return this.guardiansAddresses.includes(address.toLowerCase());\n  }\n\n  constructor(private guardiansService: IGuardiansService) {\n    this.guardiansList.clear();\n  }\n\n  async init() {\n    try {\n      this.setDoneLoading(false);\n      const guardiansAddresses = await this.guardiansService.readGuardiansList(0, 100);\n      const promises = guardiansAddresses.map((guardianAddress) =>\n        this.guardiansService.readGuardianInfo(guardianAddress).then((guardian) => {\n          // DEV_NOTE : We override the 'website' value that returns to enforce 'http'/'https' at its beginning\n          const website = normalizeUrl(guardian.website);\n          const guardianInfoExtended: TGuardianInfoExtended = { ...guardian, website, address: guardianAddress };\n          this.addGuardianToList(guardianInfoExtended);\n        }),\n      );\n\n      // TODO : O.L : Decide how to handle error in loading\n      // const guardiansInfo = await Promise.all(promises);\n      // const guardiansInfoExtended = guardiansInfo.map((g, idx) => ({ ...g, address: guardiansAddresses[idx] }));\n      // this.setGuardiansList(guardiansInfoExtended);\n\n      this.setDoneLoading(true);\n    } catch (e) {\n      this.failLoadingProcess(e);\n      console.error('Error while initialising Guardians store', e);\n    }\n  }\n\n  // ****  Complex setters ****\n  private failLoadingProcess(error: Error) {\n    this.setErrorLoading(true);\n    this.setDoneLoading(true);\n  }\n\n  // ****  Observables setter actions ****\n  @action('setGuardiansList')\n  private setGuardiansList(guardians: TGuardianInfoExtended[]) {\n    this.guardiansList.replace(guardians);\n  }\n\n  @action('addGuardianToList')\n  private addGuardianToList(guardian: TGuardianInfoExtended) {\n    this.guardiansList.push(guardian);\n  }\n\n  @action('setDoneLoading')\n  private setDoneLoading(doneLoading: boolean) {\n    this.doneLoading = doneLoading;\n  }\n\n  @action('setErrorLoading')\n  private setErrorLoading(errorLoading: boolean) {\n    this.errorLoading = errorLoading;\n  }\n}\n","import { Client, createAccount, NetworkType } from 'orbs-client-sdk';\nimport { LocalSigner } from 'orbs-client-sdk';\n\nconst ORBS_VIRTUAL_CHAIN_ID = 1_100_000; // The virtual chain Id on the Orbs network\nconst ORBS_NODE_ADDRESS = 'validator.orbs.com'; // The Orbs node that we will query\nconst PROTOCOL = 'https';\nconst ORBS_NODE_URL = `${PROTOCOL}://${ORBS_NODE_ADDRESS}/vchains/${ORBS_VIRTUAL_CHAIN_ID.toString()}`;\n\nexport function BuildOrbsClient(): Client {\n  const { publicKey, privateKey } = createAccount();\n  const signer = new LocalSigner({ publicKey, privateKey });\n  return new Client(ORBS_NODE_URL, ORBS_VIRTUAL_CHAIN_ID, NetworkType.NETWORK_TYPE_TEST_NET, signer);\n}\n","import axios from 'axios';\nimport { IRemoteService } from './IRemoteService';\n\nexport class RemoteService implements IRemoteService {\n  constructor(private remoteAddress: string) {}\n\n  private async callRemote(path: string, params?: any) {\n    const config = params ? { params } : undefined;\n    const res = await axios.get(`${this.remoteAddress}${path}`, config);\n    return res.data;\n  }\n\n  getGuardians() {\n    return this.callRemote('/guardians', { limit: 100, offset: 0 });\n  }\n\n  getGuardianData(address: string) {\n    return this.callRemote(`/guardians/${address}`);\n  }\n\n  getValidators() {\n    return this.callRemote(`/validators`);\n  }\n\n  getElectedValidators() {\n    return this.callRemote(`/validators/elected`);\n  }\n\n  getValidatorData(address: string) {\n    return this.callRemote(`/validators/${address}`);\n  }\n\n  getElectedValidatorData(address: string) {\n    return this.callRemote(`/validators/elected/${address}`);\n  }\n\n  getRewards(address: string) {\n    return this.callRemote(`/rewards/${address}`);\n  }\n\n  getRewardsHistory(address: string) {\n    return this.callRemote(`/rewards/history/${address}`);\n  }\n\n  getTotalParticipatingTokens() {\n    return this.callRemote(`/total-participating-tokens`);\n  }\n\n  getUpcomingElectionBlockNumber() {\n    return this.callRemote(`/elections/upcoming`);\n  }\n\n  getEffectiveElectionBlockNumber() {\n    return this.callRemote(`/elections/effective`);\n  }\n\n  getCurrentDelegation(address: string) {\n    return this.callRemote(`/delegation/status`, { address });\n  }\n\n  getCurrentDelegationInfo(address: string) {\n    return this.callRemote(`/delegation`, { address });\n  }\n}\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport Web3 from 'web3';\nimport { votingContractFactory, guardiansContractFactory, validatorsRegistryContractFactory } from './contracts';\nimport { Address4 } from 'ip-address';\nimport { IMetamask } from './IMetamask';\n\nconst ORB_ERC20_CONTRACT_ADDRESS = '0xff56cc6b1e6ded347aa0b7676c85ab0b3d08b0fa';\n\nexport class MetamaskService implements IMetamask {\n  private web3: Web3;\n  private validatorsRegistryContract;\n  private guardiansContract;\n  private votingContract;\n\n  constructor(web3: Web3) {\n    this.web3 = web3;\n    this.validatorsRegistryContract = validatorsRegistryContractFactory(this.web3);\n    this.guardiansContract = guardiansContractFactory(this.web3);\n    this.votingContract = votingContractFactory(this.web3);\n  }\n\n  async displayOrbsInMetamask(): Promise<void> {\n    (ethereum as any).sendAsync({\n      method: 'metamask_watchAsset',\n      params: {\n        type: 'ERC20',\n        options: {\n          symbol: 'ORBS',\n          address: ORB_ERC20_CONTRACT_ADDRESS,\n          decimals: 18,\n          image: 'https://s2.coinmarketcap.com/static/img/coins/64x64/3835.png',\n        },\n      },\n    });\n  }\n\n  private ipAddressToBytes(address: string) {\n    const formatted = new Address4(address).toHex();\n    return `0x${formatted.split(':').join('')}`;\n  }\n\n  private enableMetamask(): Promise<string> {\n    return ethereum.enable().then(\n      (addresses: string[]) => addresses[0],\n      (err: any) => Promise.reject(err),\n    );\n  }\n\n  isMainNet(): boolean {\n    return ethereum['networkVersion'] === '1';\n  }\n\n  getCurrentAddress(): Promise<string> {\n    return this.enableMetamask();\n  }\n\n  async delegate(candidate: string): Promise<any> {\n    const from = await this.enableMetamask();\n    return this.votingContract.methods.delegate(candidate).send({ from });\n  }\n\n  async voteOut(validators: string[]): Promise<any> {\n    const from = await this.enableMetamask();\n    return this.votingContract.methods.voteOut(validators).send({ from });\n  }\n\n  async registerGuardian(info): Promise<any> {\n    const { name, website } = info;\n    const from = await this.enableMetamask();\n    const requiredDeposit = await this.guardiansContract.methods.registrationDepositWei().call();\n    const isGuardian = await this.guardiansContract.methods.isGuardian(from).call({ from });\n    const method = isGuardian ? 'update' : 'register';\n    return this.guardiansContract.methods[method](name, website).send({\n      from,\n      value: requiredDeposit,\n    });\n  }\n\n  async registerValidator(info): Promise<any> {\n    const { name, ipAddress, website, orbsAddress } = info;\n    const from = await this.enableMetamask();\n    const ipHex = this.ipAddressToBytes(ipAddress);\n    const isValidator = await this.validatorsRegistryContract.methods.isValidator(from).call({ from });\n    const method = isValidator ? 'update' : 'register';\n    return this.validatorsRegistryContract.methods[method](name, ipHex, website, orbsAddress).send({ from });\n  }\n\n  async getLastVote(): Promise<any> {\n    const from = await this.enableMetamask();\n    return this.votingContract.methods.getCurrentVote(from).call({ from });\n  }\n}\n","import * as contractsInfo from '../contracts-info';\nimport votingContractJson from '../contracts/OrbsVoting.json';\nimport guardiansContractJson from '../contracts/OrbsGuardians.json';\nimport validatorsContractJson from '../contracts/OrbsValidators.json';\nimport validatorsRegistryContractJson from '../contracts/OrbsValidatorsRegistry.json';\n\nexport const validatorsContractFactory = web3 => {\n  return new web3.eth.Contract(\n    validatorsContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidators']['address']\n      : contractsInfo.EthereumValidatorsContract.address,\n  );\n};\n\nexport const validatorsRegistryContractFactory = web3 => {\n  return new web3.eth.Contract(\n    validatorsRegistryContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidatorsRegistry']['address']\n      : contractsInfo.EthereumValidatorsRegistryContract.address,\n  );\n};\n\nexport const guardiansContractFactory = web3 => {\n  return new web3.eth.Contract(\n    guardiansContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsGuardians']['address']\n      : contractsInfo.EthereumGuardiansContract.address,\n  );\n};\n\nexport const votingContractFactory = web3 => {\n  return new web3.eth.Contract(\n    votingContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsVoting']['address']\n      : contractsInfo.EthereumVotingContract.address,\n  );\n};\n","import React from 'react';\nimport { App } from './App';\nimport { configs } from '../../config';\nimport { configureMobx, getStores } from '../../Store/storesInitialization';\nimport { buildServices } from '../../services/Services';\nimport Web3 from 'web3';\nimport { Provider } from 'mobx-react';\nimport { ApiContext } from '../../services/ApiContext';\nimport { StylesProvider, ThemeProvider } from '@material-ui/core/styles';\nimport { SnackbarProvider } from 'notistack';\n\nconfigureMobx();\n\nlet web3: Web3;\n\nconst ethereumProvider = window.ethereum;\n\nif (ethereumProvider) {\n  web3 = new Web3(ethereumProvider as any);\n} else {\n  web3 = new Web3(new Web3.providers.WebsocketProvider(configs.ETHEREUM_PROVIDER_WS));\n}\n\nconst services = buildServices(web3, ethereumProvider);\nconst { orbsRewardsService, metamask, remoteService, guardiansService, stakingService } = services;\nconst stores = getStores(guardiansService);\n\nexport const AppWrapper = React.memo((props) => {\n  return (\n    <Provider {...services} {...stores}>\n      <ApiContext.Provider value={{ remoteService, metamask, stakingService, guardiansService, orbsRewardsService }}>\n        <StylesProvider injectFirst>\n          <App />\n        </StylesProvider>\n      </ApiContext.Provider>\n    </Provider>\n  );\n});\n","import { configure } from 'mobx';\nimport { IStores } from './stores';\n\n// This import ensures mobx batching\nimport 'mobx-react-lite/batchingForReactDom';\nimport { IGuardiansService } from 'orbs-pos-data';\nimport { GuardiansStore } from './GuardiansStore';\n\n/**\n * Configures the mobx library. Should get called at App's initialization.\n */\nexport function configureMobx() {\n  configure({\n    enforceActions: 'observed',\n  });\n}\n\n/**\n * Builds and initializes all of the stores\n */\nexport function getStores(guardiansService: IGuardiansService): IStores {\n  // Create stores instances + Hydrate the stores\n\n  const stores: IStores = {\n    guardiansStore: new GuardiansStore(guardiansService),\n  };\n\n  // TODO : O.L : add proper handling of errors here\n  stores.guardiansStore.init();\n\n  return stores;\n}\n","// DEV_NOTE : This file will handle the \"well-designed\" services, all of the other services will be eventually added to here.\n\nimport {\n  GuardiansService,\n  IGuardiansService,\n  IOrbsClientService,\n  IOrbsRewardsService,\n  IStakingService,\n  OrbsClientService,\n  OrbsRewardsService,\n  StakingService,\n} from 'orbs-pos-data';\nimport Web3 from 'web3';\nimport { BuildOrbsClient } from './OrbsClientFactory';\nimport { IRemoteService } from './IRemoteService';\nimport { RemoteService } from './RemoteService';\nimport { configs } from '../config';\nimport { MetamaskService } from './MetamaskService';\nimport { IMetamask } from './IMetamask';\n\nexport interface IServices {\n  remoteService: IRemoteService;\n  guardiansService: IGuardiansService;\n  metamask?: IMetamask;\n  stakingService: IStakingService;\n  orbsRewardsService: IOrbsRewardsService;\n}\n\nexport function buildServices(web3: Web3, ethereumProvider: any): IServices {\n  const remoteService: IRemoteService = new RemoteService(configs.orbsAuditNodeEndpoint);\n  // TODO : FUTURE: O.L : This method of signaling no meta-mask is too fragile and unclear, change it to be like staking wallet\n  const metamask = ethereumProvider ? new MetamaskService(web3) : undefined;\n  const stakingService = new StakingService(web3, configs?.contractsAddressesOverride?.stakingContract);\n  const orbsClient = BuildOrbsClient();\n  const orbsClientService: IOrbsClientService = new OrbsClientService(orbsClient);\n  const orbsRewardsService: IOrbsRewardsService = new OrbsRewardsService(web3, orbsClientService);\n  const guardiansService = new GuardiansService(\n    web3,\n    orbsClientService,\n    configs?.contractsAddressesOverride,\n    configs.earliestBlockForDelegationOverride\n      ? {\n          earliestBlockForDelegation: configs.earliestBlockForDelegationOverride,\n        }\n      : undefined,\n  );\n\n  const services: IServices = {\n    guardiansService,\n    remoteService,\n    metamask,\n    stakingService,\n    orbsRewardsService,\n  };\n\n  return services;\n}\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AppWrapper } from './components/App/AppWrapper';\nimport './index.css';\n\nReactDOM.render(<AppWrapper />, document.getElementById('root'));\n"],"sourceRoot":""}